/**
 作者：shawn
 日期：8-10
 9.9更新 不重复执行任务，增加一些任务
 长安深蓝小程序 app的一样用 一天几百积分
 抓取域名 app-api.deepal.com.cn 抓取账号请求头Authorization的值就可以
 变量格式：export caslCk='111'@'222' 多账户 换行 或者 @ 分割
 定时1-2次
 Cron：15 7,12 * * *
 [task_local]
 #长安深蓝小程序 打开积分
 [rewrite_local]
 https://app-api.deepal.com.cn/appapi/v1/member/ms/wallet url script-request-headers https://github.com/Shawn220528/scripts/blob/main/casl.js
 [MITM]
 hostname = app-api.deepal.com.cn
 */
const $=new Env('长安深蓝');const {log}=console;const Notify=0x3db9b^0x3db9a;const debug=0xb8367^0xb8367;let request=require('request');let scriptVersion='1.0.1';let scriptVersionCheck=![];let caslCk=($['isNode']()?process['env']['caslCk']:$['getdata']('caslCk'))||'';let caslCkArr=[];let msg='';let memberId='';let memberName='';let beforeCountPoint=0x1a84e^0x1a84e;let userAgent='Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2015_6\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148\x20MicroMessenger/8.0.26(0x18001a2d)\x20NetType/WIFI\x20Language/zh_CN';let allowTasks=['BC00009','BC00001','BS00001','BC00002','BC00003','BS00002','BC00005','BS00008','BC00006','BC00007','BS00009'];let firstTasks=[];let dailyTasks=[];let information=[];let dynamic=[];let currCommentId='';let curHour=new Date()['getHours']();!(async()=>{if(typeof $request!=='undefined'){await GetRewrite();}else{if(!await Envs())return;else{currTime=new Date(new Date()['getTime']()+new Date()['getTimezoneOffset']()*(0x5d0f7^0x5d0cb)*(0x2130f^0x210e7)+(0x6ee5b^0x6ee53)*(0x1d27d^0x1d241)*(0xc00e6^0xc00da)*(0x82856^0x82bbe))['toLocaleString']();log('\x0a\x0a=============================================\x20\x20\x20\x20\x0a脚本执行\x20-\x20北京时间(UTC+8)：'+currTime+'\x20\x0a=============================================\x0a');await getVersion();await $['wait'](randomInt(0x71865^0x71b8d,0x267b6^0x26c0e));if(!scriptVersionCheck){log('版本验证失败，请检查网络或更新版本重试！');return;}log('\x0a============\x20当前版本：'+scriptVersion+'============');log('\x0a===================\x20共找到\x20'+caslCkArr['length']+'\x20个账号\x20===================');if(debug){log('【debug】\x20这是你的全部账号数组:\x0a\x20'+caslCkArr);}for(let _0x2116f4=0x0;_0x2116f4<caslCkArr['length'];_0x2116f4++){firstTasks=[];dailyTasks=[];let _0x26e23e=_0x2116f4+0x1;addNotifyStr('开始'+_0x26e23e+'个账号：',!![]);await $['wait'](delay());caslCk=caslCkArr[_0x2116f4];addNotifyStr('1.获取所有任务列表',!![]);await taskList();await $['wait'](delay());addNotifyStr('2.获取任务需要数据',!![]);await wallet(![]);await $['wait'](delay());await articlequery();await $['wait'](delay());addNotifyStr('3.开始进行一次性任务',!![]);if(firstTasks['length']>0x0){for(var _0x1062e7 in firstTasks){var _0x3d90b3=firstTasks[_0x1062e7]['ruleCode'];var _0x56faee=firstTasks[_0x1062e7]['finishStatus'];var _0xbc9fdd=firstTasks[_0x1062e7]['ruleName'];if(_0x56faee==(0x48148^0x48149)){console['log']('任务：'+_0xbc9fdd+'，已经完成，不再重复执行！');}else{if(_0x3d90b3=='BC00011'){addNotifyStr('开始执行：'+_0xbc9fdd);await viewRule();await $['wait'](0x1388);}else if(_0x3d90b3=='BV00001'){addNotifyStr('开始执行：'+_0xbc9fdd);await carShow();await $['wait'](0xe9b88^0xe8800);}}}}else{addNotifyStr('获取首次任务失败！');}await $['wait'](delay());addNotifyStr('4.开始进行日常任务',!![]);if(dailyTasks['length']>(0xcddf9^0xcddf9)){for(var _0x1062e7 in dailyTasks){var _0x3d90b3=dailyTasks[_0x1062e7]['ruleCode'];var _0x56faee=dailyTasks[_0x1062e7]['finishStatus'];var _0xbc9fdd=dailyTasks[_0x1062e7]['ruleName'];var _0x373901=dailyTasks[_0x1062e7]['ruleUpperLimit'];var _0x53161c=dailyTasks[_0x1062e7]['finiseNum'];var _0x458da7=_0x373901-_0x53161c;switch(_0x3d90b3){case'BC00009':if(_0x56faee==(0x94684^0x94685)){console['log']('任务：'+_0xbc9fdd+'，已经完成，不再重复执行！');}else{addNotifyStr('开始执行：'+_0xbc9fdd);await statistics();await $['wait'](0x1388);}break;case'BC00001':if(information['length']>(0xb0f2e^0xb0f2e)){if(_0x56faee==(0xdcc4e^0xdcc4f)){console['log']('任务：'+_0xbc9fdd+'，已经完成！');}else{addNotifyStr('开始执行：'+_0xbc9fdd);var _0x1e920d=[];for(let _0x24f5cf=0x0;_0x24f5cf<_0x458da7;_0x24f5cf++){var _0x565c08=getArticleIdIndex(_0x1e920d,information['length']);var _0x35bf9e=information[_0x565c08];_0x1e920d['push'](_0x565c08);await viewarticle1(_0x35bf9e);await $['wait'](0x9853d^0x996b5);}}}break;case'BS00001':if(information['length']>0x0){if(_0x56faee==(0x7e163^0x7e162)){console['log']('任务：'+_0xbc9fdd+'，已经完成！');}else{addNotifyStr('开始执行：'+_0xbc9fdd);var _0x1e920d=[];for(let _0x17a9ad=0x73137^0x73137;_0x17a9ad<_0x458da7;_0x17a9ad++){var _0x565c08=getArticleIdIndex(_0x1e920d,information['length']);var _0x35bf9e=information[_0x565c08];_0x1e920d['push'](_0x565c08);await comment(_0x35bf9e);await $['wait'](0x1388);await deleteComment();await $['wait'](0x27d05^0x26e8d);}}}break;case'BC00002':if(information['length']>(0x39e50^0x39e50)){if(_0x56faee==(0xccc1e^0xccc1f)){console['log']('任务：'+_0xbc9fdd+'，已经完成！');}else{addNotifyStr('开始执行：'+_0xbc9fdd);var _0x1e920d=[];for(let _0x580ecd=0xa20b5^0xa20b5;_0x580ecd<_0x458da7;_0x580ecd++){var _0x565c08=getArticleIdIndex(_0x1e920d,information['length']);var _0x35bf9e=information[_0x565c08];_0x1e920d['push'](_0x565c08);await praises(_0x35bf9e);await $['wait'](0xad37b^0xac0f3);await deletePraises(_0x35bf9e);await $['wait'](0x1388);}}}break;case'BC00003':if(_0x56faee==(0xe7e90^0xe7e91)){console['log']('任务：'+_0xbc9fdd+'，已经完成！');}else{addNotifyStr('开始执行：'+_0xbc9fdd);var _0x1e920d=[];for(let _0x45da50=0x0;_0x45da50<_0x458da7;_0x45da50++){var _0x565c08=getArticleIdIndex(_0x1e920d,information['length']);var _0x35bf9e=information[_0x565c08];_0x1e920d['push'](_0x565c08);await like(_0x35bf9e);await $['wait'](0xf1974^0xf0afc);await deleteLike(_0x35bf9e);await $['wait'](0x4078e^0x41406);}}break;case'BS00002':if(information['length']>0x0){if(_0x56faee==0x1){console['log']('任务：'+_0xbc9fdd+'，已经完成！');}else{addNotifyStr('开始执行：'+_0xbc9fdd);var _0x1e920d=[];for(let _0x9126bd=0x0;_0x9126bd<_0x458da7;_0x9126bd++){var _0x565c08=getArticleIdIndex(_0x1e920d,information['length']);var _0x35bf9e=information[_0x565c08];_0x1e920d['push'](_0x565c08);await articleshare(_0x35bf9e);await $['wait'](0x7e8fe^0x72bae);}}}break;case'BC00005':if(dynamic['length']>(0x5608f^0x5608f)){if(_0x56faee==0x1){console['log']('任务：'+_0xbc9fdd+'，已经完成！');}else{addNotifyStr('开始执行：'+_0xbc9fdd);var _0x1e920d=[];for(let _0xcdb63c=0x0;_0xcdb63c<_0x458da7;_0xcdb63c++){var _0x565c08=getArticleIdIndex(_0x1e920d,dynamic['length']);var _0x35bf9e=dynamic[_0x565c08];_0x1e920d['push'](_0x565c08);await viewarticle(_0x35bf9e);await $['wait'](0x1388);await viewComment(_0x35bf9e);await $['wait'](0x1388);}}}break;case'BS00008':if(dynamic['length']>(0x4107e^0x4107e)){if(_0x56faee==(0x77b83^0x77b82)){console['log']('任务：'+_0xbc9fdd+'，已经完成！');}else{addNotifyStr('开始执行：'+_0xbc9fdd);var _0x1e920d=[];for(let _0x3786cc=0x0;_0x3786cc<_0x458da7;_0x3786cc++){var _0x565c08=getArticleIdIndex(_0x1e920d,dynamic['length']);var _0x35bf9e=dynamic[_0x565c08];_0x1e920d['push'](_0x565c08);await comment(_0x35bf9e);await $['wait'](0x1388);await deleteComment();await $['wait'](0x1388);}}}break;case'BC00006':if(dynamic['length']>(0xaf9bd^0xaf9bd)){if(_0x56faee==0x1){console['log']('任务：'+_0xbc9fdd+'，已经完成！');}else{addNotifyStr('开始执行：'+_0xbc9fdd);var _0x1e920d=[];for(let _0xf71c13=0x0;_0xf71c13<_0x458da7;_0xf71c13++){var _0x565c08=getArticleIdIndex(_0x1e920d,dynamic['length']);var _0x35bf9e=dynamic[_0x565c08];_0x1e920d['push'](_0x565c08);await praises(_0x35bf9e);await $['wait'](0x1388);await deletePraises(_0x35bf9e);await $['wait'](0x9141c^0x90794);}}}break;case'BC00007':if(dynamic['length']>0x0){if(_0x56faee==(0x18cc7^0x18cc6)){console['log']('任务：'+_0xbc9fdd+'，已经完成！');}else{addNotifyStr('开始执行：'+_0xbc9fdd);var _0x1e920d=[];for(let _0x33b960=0x0;_0x33b960<_0x458da7;_0x33b960++){var _0x565c08=getArticleIdIndex(_0x1e920d,dynamic['length']);var _0x35bf9e=dynamic[_0x565c08];_0x1e920d['push'](_0x565c08);await like(_0x35bf9e);await $['wait'](0x1388);await deleteLike(_0x35bf9e);await $['wait'](0x1388);}}}break;case'BS00009':if(dynamic['length']>(0x968c9^0x968c9)){if(_0x56faee==(0x6fa25^0x6fa24)){console['log']('任务：'+_0xbc9fdd+'，已经完成！');}else{addNotifyStr('开始执行：'+_0xbc9fdd);var _0x1e920d=[];for(let _0x190f8e=0x0;_0x190f8e<_0x458da7;_0x190f8e++){var _0x565c08=getArticleIdIndex(_0x1e920d,dynamic['length']);var _0x35bf9e=dynamic[_0x565c08];_0x1e920d['push'](_0x565c08);await articleshare(_0x35bf9e);await $['wait'](0xc350);}}}break;default:console['log']('任务：'+_0xbc9fdd+'，不在待执行任务列表！');break;}}}else{addNotifyStr('获取日常任务失败！');}await $['wait'](delay());await activityquery();await $['wait'](delay());await wallet(!![]);}await SendMsg(msg);}}})()['catch'](_0x14ea22=>log(_0x14ea22))['finally'](()=>$['done']());async function taskList(){return new Promise(_0x3babc8=>{let _0x1a2c00={'url':'https://app-api.deepal.com.cn/appapi/v1/member/member/ms/point/task','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|1658806402133'}};if(debug){log('\x0a【debug】===============\x20这是\x20获取任务列表\x20请求\x20url\x20===============');log(JSON['stringify'](_0x1a2c00));}$['get'](_0x1a2c00,async(_0x257390,_0x383827,_0x375173)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20获取任务列表\x20返回data==============');log(_0x375173);}if(safeGet(_0x375173)){let _0x1e05bd=JSON['parse'](_0x375173);if(_0x1e05bd['code']==0xc8){for(var _0x3a7962 in _0x1e05bd['data']){var _0x29e277=_0x1e05bd['data'][_0x3a7962]['ruleName'];var _0xe892c=_0x1e05bd['data'][_0x3a7962]['ruleCode'];if(_0xe892c=='BC00011'){firstTasks['push'](_0x1e05bd['data'][_0x3a7962]);}else if(_0xe892c=='BV00001'){firstTasks['push'](_0x1e05bd['data'][_0x3a7962]);}else if(allowTasks['indexOf'](_0xe892c)>=0x0){dailyTasks['push'](_0x1e05bd['data'][_0x3a7962]);}else{console['log']('任务：【'+_0x29e277+'】，不支持自动执行！');}}}else{addNotifyStr('获取任务列表失败：\x20'+_0x1e05bd['message'],!![]);}}}catch(_0x5ad269){log(_0x5ad269);log(_0x375173);}finally{_0x3babc8();}});});}async function statistics(){return new Promise(_0x2b7628=>{let _0xefc9d2={'url':'https://app-api.deepal.com.cn/appapi/v1/member/ms/'+memberId+'/statistics','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'*/*','User-Agent':'CAQC/1.1.3\x20(iPhone;\x20iOS\x2015.2;\x20Scale/3.00)','Accept-Language':'zh-Hans-CN;q=1','Accept-Encoding':'gzip,\x20deflate,\x20br','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}};if(debug){log('\x0a【debug】===============\x20这是\x20登录\x20请求\x20url\x20===============');log(JSON['stringify'](_0xefc9d2));}$['get'](_0xefc9d2,async(_0x1d8fcf,_0x45d146,_0x2db7a9)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20登录\x20返回data==============');log(_0x2db7a9);}if(safeGet(_0x2db7a9)){let _0xd7d626=JSON['parse'](_0x2db7a9);addNotifyStr('登录：'+_0xd7d626['message'],!![]);}}catch(_0x37e6ae){log(_0x37e6ae);log(_0x2db7a9);}finally{_0x2b7628();}});});}async function bucket(){return new Promise(_0x377277=>{let _0x138d6f={'url':'https://app-api.deepal.com.cn/appapi/v1/tencent/cos/bucket','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|1658806402133'}};if(debug){log('\x0a【debug】===============\x20这是\x20查看规则\x20请求\x20url\x20===============');log(JSON['stringify'](_0x138d6f));}$['get'](_0x138d6f,async(_0xfbb08d,_0x451784,_0x1f0841)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20查看规则\x20返回data==============');log(_0x1f0841);}if(safeGet(_0x1f0841)){let _0x71cc3e=JSON['parse'](_0x1f0841);addNotifyStr('查看车型：'+_0x71cc3e['message'],!![]);}}catch(_0x31d85c){log(_0x31d85c);log(_0x1f0841);}finally{_0x377277();}});});}async function wallet(_0x5de793){return new Promise(_0x502a52=>{let _0x37966a={'url':'https://app-api.deepal.com.cn/appapi/v1/member/ms/wallet','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json','User-Agent':''+userAgent,'Accept-Encoding':'gzip,compress,br,deflate','content-type':'application/x-www-form-urlencoded','authorization':''+caslCk,'apptype':'mp','appid':'wx0c0217402bdf4059','Referer':'https://servicewechat.com/wx0c0217402bdf4059/14/page-frame.html'}};if(debug){log('\x0a【debug】===============\x20这是\x20查看钱包\x20请求\x20url\x20===============');log(JSON['stringify'](_0x37966a));}$['get'](_0x37966a,async(_0x32a6cb,_0x393610,_0xaaade5)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20查看钱包\x20返回data==============');log(_0xaaade5);}if(safeGet(_0xaaade5)){let _0x2c3156=JSON['parse'](_0xaaade5);if(_0x2c3156['code']==(0x9fb89^0x9fb41)){let _0x5a2ad8=_0x2c3156['data'];memberId=_0x5a2ad8['id'];memberName=_0x5a2ad8['memberName'];if(!_0x5de793){beforeCountPoint=_0x5a2ad8['countPoint'];console['log']('账号：'+_0x5a2ad8['mobile']+':\x20任务前蓝宝石：'+_0x5a2ad8['countPoint']);}else{var _0x45fcd1=_0x5a2ad8['countPoint']-beforeCountPoint;addNotifyStr('账号：'+_0x5a2ad8['mobile']+'，当前蓝宝石：'+_0x5a2ad8['countPoint']+'，本次任务收益：'+_0x45fcd1,!![]);}}else{addNotifyStr('用户信息查询成功失败：\x20'+_0x2c3156['message'],!![]);}}}catch(_0x4f13f3){log(_0x4f13f3);log(_0xaaade5);}finally{_0x502a52();}});});}async function viewRule(_0x21b08e){return new Promise(_0x115f99=>{let _0x2f74c6={'url':'https://app-api.deepal.com.cn/appapi/v1/member/ms/viewRule','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|1658806402133'}};if(debug){log('\x0a【debug】===============\x20这是\x20查看攻略\x20请求\x20url\x20===============');log(JSON['stringify'](_0x2f74c6));}$['get'](_0x2f74c6,async(_0xe7fecd,_0x1e0503,_0x554eac)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20查看攻略\x20返回data==============');log(_0x554eac);}if(safeGet(_0x554eac)){let _0x42b64b=JSON['parse'](_0x554eac);addNotifyStr('查看攻略：'+_0x42b64b['message'],!![]);}}catch(_0x1a7108){log(_0x1a7108);log(_0x554eac);}finally{_0x115f99();}});});}async function carShow(_0x2b9037){return new Promise(_0x494c54=>{let _0x10cf16={'url':'https://app-api.deepal.com.cn/appapi/v1/member/ms/carShow','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}};if(debug){log('\x0a【debug】===============\x20这是\x20查看车型\x20请求\x20url\x20===============');log(JSON['stringify'](_0x10cf16));}$['get'](_0x10cf16,async(_0x45fbef,_0x21ffbe,_0x2dd335)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20查看车型\x20返回data==============');log(_0x2dd335);}if(safeGet(_0x2dd335)){let _0x3213be=JSON['parse'](_0x2dd335);addNotifyStr('查看车型：'+_0x3213be['message'],!![]);}}catch(_0x4a026c){log(_0x4a026c);log(_0x2dd335);}finally{_0x494c54();}});});}async function articlequery(){return new Promise(_0x4a0ab7=>{let _0x1d56c1={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/article/query','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()},'body':'{\x22body\x22:\x20{\x22isRecommend\x22:\x20\x221\x22},\x20\x22index\x22:\x20\x221\x22,\x20\x22size\x22:\x20\x221000\x22,\x20\x22lastId\x22:\x20\x220\x22}'};if(debug){log('\x0a【debug】===============\x20这是\x20查询主题\x20请求\x20url\x20===============');log(JSON['stringify'](_0x1d56c1));}$['post'](_0x1d56c1,async(_0x36dd8b,_0x3ffcb7,_0x37bb68)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20查询主题\x20返回data==============');log(_0x37bb68);}if(safeGet(_0x37bb68)){let _0x41489a=JSON['parse'](_0x37bb68);if(_0x41489a['code']==(0x46c90^0x46c58)){addNotifyStr('查询主题信息列表成功',!![]);var _0x5be46b=_0x41489a['data'];for(var _0x2beedb in _0x5be46b){var _0x17852b=_0x5be46b[_0x2beedb]['type'];var _0x244330=_0x5be46b[_0x2beedb]['id'];if(_0x17852b==0x1){information['push'](_0x244330);}else if(_0x17852b==(0x8ff74^0x8ff70)){dynamic['push'](_0x244330);}}}else{addNotifyStr('查询主题信息列表失败：\x20'+_0x41489a['message']);}}}catch(_0x2dc6c8){log(_0x2dc6c8);log(_0x37bb68);}finally{_0x4a0ab7();}});});}async function activityquery(){return new Promise(_0x5e69f8=>{let _0x3f3de9={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/activity/query','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()},'body':'{\x22body\x22:{\x22cityCode\x22:\x22-1\x22,\x22cityName\x22:\x22全国\x22,\x22lat\x22:0,\x22lng\x22:0},\x22index\x22:1,\x22size\x22:100,\x22lastId\x22:0}'};if(debug){log('\x0a【debug】===============\x20这是\x20查询主题信息列表\x20请求\x20url\x20===============');log(JSON['stringify'](_0x3f3de9));}$['post'](_0x3f3de9,async(_0x484ebd,_0x296f9d,_0x449718)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20查询主题信息列表\x20返回data==============');log(_0x449718);}if(safeGet(_0x449718)){let _0x88dfc5=JSON['parse'](_0x449718);addNotifyStr('查询主题信息列表：\x20'+_0x88dfc5['message']);if(_0x88dfc5['code']==0xc8){var _0x4663ca=_0x88dfc5['data']['activity'];for(let _0x48ef7f=0x0;_0x48ef7f<_0x4663ca['length'];_0x48ef7f++){var _0x3a9d6c=_0x4663ca[_0x48ef7f]['body']['id'];addNotifyStr('【开始第'+(_0x48ef7f+(0x8bafd^0x8bafc))+'个活动】',!![]);await activityview(_0x3a9d6c);await $['wait'](0x1f4);await share(_0x3a9d6c);await $['wait'](0x1f4);}}}}catch(_0x3cb6dd){log(_0x3cb6dd);log(_0x449718);}finally{_0x5e69f8();}});});}async function share(_0x295544){return new Promise(_0x14f84a=>{let _0x360a5d={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/activity/'+_0x295544+'/share','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}};if(debug){log('\x0a【debug】===============\x20这是\x20活动分享\x20请求\x20url\x20===============');log(JSON['stringify'](_0x360a5d));}$['post'](_0x360a5d,async(_0x37a10d,_0xa16b8b,_0x215115)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20活动分享\x20返回data==============');log(_0x215115);}if(safeGet(_0x215115)){let _0x19f79d=JSON['parse'](_0x215115);addNotifyStr('活动分享：\x20'+_0x19f79d['message']);}}catch(_0x2f3be3){log(_0x2f3be3);log(_0x215115);}finally{_0x14f84a();}});});}async function activityview(_0x4209d1){return new Promise(_0x43d096=>{let _0x2954e2={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/activity/'+_0x4209d1,'headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}};if(debug){log('\x0a【debug】===============\x20这是\x20活动浏览\x20请求\x20url\x20===============');log(JSON['stringify'](_0x2954e2));}$['get'](_0x2954e2,async(_0xcbdf46,_0x2ee303,_0x506069)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20活动浏览\x20返回data==============');log(_0x506069);}if(safeGet(_0x506069)){let _0x1b7cba=JSON['parse'](_0x506069);addNotifyStr('活动浏览：\x20'+_0x1b7cba['message']);}}catch(_0x4c17f2){log(_0x4c17f2);log(_0x506069);}finally{_0x43d096();}});});}async function comment(_0x1b32e8){var _0x1d6919=randomInt(0x22bd1^0x22bd0,0xf);var _0x2f661e=['点赞','赞','赞一个','有用','强','学习','学下','看看','学到','嘿嘿','good','very\x20good','不错','真好','yyds'];var _0xd36b6a=_0x2f661e[_0x1d6919];return new Promise(_0x4c5d78=>{let _0x1a0542={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/comment','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()},'body':'{\x22articleId\x22:'+_0x1b32e8+',\x22memberName\x22:\x22'+memberName+'\x22,\x22memberId\x22:'+memberId+',\x22memberFace\x22:\x22\x22,\x22parentId\x22:null,\x22content\x22:\x22'+_0xd36b6a+'\x22,\x22quote\x22:\x22长安深蓝SL03定购指南-第二弹\x22,\x22authorType\x22:\x221\x22,\x22quoteMemberId\x22:\x221\x22,\x22quoteMemberName\x22:\x22长安深蓝\x22,\x22quoteMemberFace\x22:\x22https://files.deepal.com.cn/member/head-portrait/6c599d214601820c01dedcffcb2a3be2.jpg\x22}'};if(debug){log('\x0a【debug】===============\x20这是\x20评论主题\x20请求\x20url\x20===============');log(JSON['stringify'](_0x1a0542));}$['post'](_0x1a0542,async(_0x36f228,_0x2b9921,_0x3f64e7)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20评论主题\x20返回data==============');log(_0x3f64e7);}if(safeGet(_0x3f64e7)){let _0x2800d7=JSON['parse'](_0x3f64e7);if(_0x2800d7['code']==0xc8){currCommentId=_0x2800d7['data']['id'];}addNotifyStr('评论主题：\x20'+_0x2800d7['message']);}}catch(_0x120c26){log(_0x120c26);log(_0x3f64e7);}finally{_0x4c5d78();}});});}async function articleshare(_0x439450){return new Promise(_0x246ed9=>{let _0x1ba90b={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/article/'+_0x439450+'/share','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}};if(debug){log('\x0a【debug】===============\x20这是\x20分享主题\x20请求\x20url\x20===============');log(JSON['stringify'](_0x1ba90b));}$['post'](_0x1ba90b,async(_0x4a7d38,_0x2adfe0,_0x37c587)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20分享主题\x20返回data==============');log(_0x37c587);}if(safeGet(_0x37c587)){let _0x5c0526=JSON['parse'](_0x37c587);addNotifyStr('分享主题：\x20'+_0x5c0526['message']);}}catch(_0x3e459f){log(_0x3e459f);log(_0x37c587);}finally{_0x246ed9();}});});}async function viewarticle1(_0x1e39cf){return new Promise(_0x325ef8=>{let _0x558c1d={'url':'https://app-api.deepal.com.cn/appapi/v1/member/ms/article/view','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()},'body':'{\x22articleId\x22:\x20'+_0x1e39cf+',\x20\x22type\x22:\x201}'};if(debug){log('\x0a【debug】===============\x20这是\x20浏览主题\x20请求\x20url\x20===============');log(JSON['stringify'](_0x558c1d));}$['post'](_0x558c1d,async(_0x32beb8,_0x53ba28,_0x430924)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20浏览主题\x20返回data==============');log(_0x430924);}if(safeGet(_0x430924)){let _0x1b5441=JSON['parse'](_0x430924);addNotifyStr('浏览主题：\x20'+_0x1b5441['message']);}}catch(_0x5948bc){log(_0x5948bc);log(_0x430924);}finally{_0x325ef8();}});});}async function viewarticle(_0x2df99b){return new Promise(_0x107f9f=>{let _0x1fbbe1={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/article/'+_0x2df99b,'headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':'CAQC/1.1.3\x20(iPhone;\x20iOS\x2015.6.1;\x20Scale/3.00)','Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}};if(debug){log('\x0a【debug】===============\x20这是\x20查看大家动态\x20请求\x20url\x20===============');log(JSON['stringify'](_0x1fbbe1));}$['get'](_0x1fbbe1,async(_0x2f7273,_0x1b2595,_0x2f8962)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20查看大家动态\x20返回data==============');log(_0x2f8962);}if(safeGet(_0x2f8962)){let _0x52a81a=JSON['parse'](_0x2f8962);addNotifyStr('查看评论：\x20'+_0x52a81a['message']);}}catch(_0x43d41d){log(_0x43d41d);log(_0x2f8962);}finally{_0x107f9f();}});});}async function viewComment(_0x244017){return new Promise(_0x51a18c=>{let _0x341993={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/comment/'+_0x244017+'/0?index=1&size=10','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':'CAQC/1.1.3\x20(iPhone;\x20iOS\x2015.6.1;\x20Scale/3.00)','Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}};if(debug){log('\x0a【debug】===============\x20这是\x20查看评论\x20请求\x20url\x20===============');log(JSON['stringify'](_0x341993));}$['get'](_0x341993,async(_0x14ed6c,_0x30a305,_0x22e026)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20查看评论\x20返回data==============');log(_0x22e026);}if(safeGet(_0x22e026)){let _0x5a7a81=JSON['parse'](_0x22e026);addNotifyStr('查看评论：\x20'+_0x5a7a81['message']);}}catch(_0x3af821){log(_0x3af821);log(_0x22e026);}finally{_0x51a18c();}});});}async function like(_0x2ceecc){return new Promise(_0x5a019f=>{let _0x2e92b0={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/article/'+_0x2ceecc+'/like','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}};if(debug){log('\x0a【debug】===============\x20这是\x20收藏主题\x20请求\x20url\x20===============');log(JSON['stringify'](_0x2e92b0));}$['post'](_0x2e92b0,async(_0x2471ff,_0x283d1b,_0x407962)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20收藏主题\x20返回data==============');log(_0x407962);}if(safeGet(_0x407962)){let _0x6c95cf=JSON['parse'](_0x407962);addNotifyStr('收藏主题：\x20'+_0x6c95cf['message']);}}catch(_0x5e9b94){log(_0x5e9b94);log(_0x407962);}finally{_0x5a019f();}});});}async function deleteLike(_0x34a0c4){return new Promise(_0x12fed1=>{let _0x19fe25={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/article/'+_0x34a0c4+'/like/delete','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}};if(debug){log('\x0a【debug】===============\x20这是\x20取消收藏主题\x20请求\x20url\x20===============');log(JSON['stringify'](_0x19fe25));}$['post'](_0x19fe25,async(_0x5cd5f6,_0x311fcb,_0x2a66d6)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20取消收藏主题\x20返回data==============');log(_0x2a66d6);}if(safeGet(_0x2a66d6)){let _0x5d6241=JSON['parse'](_0x2a66d6);addNotifyStr('取消收藏主题：\x20'+_0x5d6241['message']);}}catch(_0x24a282){log(_0x24a282);log(_0x2a66d6);}finally{_0x12fed1();}});});}async function praises(_0x18a57f){return new Promise(_0x1a8fd5=>{let _0x2c12fc={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/article/'+_0x18a57f+'/praises','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}};if(debug){log('\x0a【debug】===============\x20这是\x20点赞主题\x20请求\x20url\x20===============');log(JSON['stringify'](_0x2c12fc));}$['post'](_0x2c12fc,async(_0x46d36b,_0x4ef36d,_0x19b9e5)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20点赞主题\x20返回data==============');log(_0x19b9e5);}if(safeGet(_0x19b9e5)){let _0x345df0=JSON['parse'](_0x19b9e5);addNotifyStr('点赞主题：\x20'+_0x345df0['message']);}}catch(_0x517e53){log(_0x517e53);log(_0x19b9e5);}finally{_0x1a8fd5();}});});}async function deletePraises(_0xc59d33){return new Promise(_0x561618=>{let _0x49da2f={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/article/'+_0xc59d33+'/praises/delete','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}};if(debug){log('\x0a【debug】===============\x20这是\x20取消点赞主题\x20请求\x20url\x20===============');log(JSON['stringify'](_0x49da2f));}$['post'](_0x49da2f,async(_0x263286,_0x1c6e0e,_0x1ebf4c)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20取消点赞主题\x20返回data==============');log(_0x1ebf4c);}if(safeGet(_0x1ebf4c)){let _0x511478=JSON['parse'](_0x1ebf4c);addNotifyStr('取消点赞主题：\x20'+_0x511478['message']);}}catch(_0xe7307d){log(_0xe7307d);log(_0x1ebf4c);}finally{_0x561618();}});});}async function deleteComment(){return new Promise(_0x53aa17=>{try{request({'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/comment/'+currCommentId,'method':'DELETE','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*','User-Agent':'CAQC/1.1.3\x20(iPhone;\x20iOS\x2015.6.1;\x20Scale/3.00)','Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}},function(_0x3fa02c,_0xb5388f,_0x224a49){if(safeGet(_0x224a49)){let _0x3c9e30=JSON['parse'](_0x224a49);addNotifyStr('删除评论：\x20'+_0x3c9e30['message']);}});}catch(_0xd27e9d){log(_0xd27e9d);}finally{_0x53aa17();}});}function randomInt(_0x1502b0,_0x441dff){return Math['round'](Math['random']()*(_0x441dff-_0x1502b0)+_0x1502b0);}function timestampMs(){return new Date()['getTime']();}function timestampS(){return Date['parse'](new Date())/(0x9f26f^0x9f187);}async function Envs(){if(caslCk){if(caslCk['indexOf']('@')!=-0x1){caslCk['split']('@')['forEach'](_0x12f0f7=>{caslCkArr['push'](_0x12f0f7);});}else if(caslCk['indexOf']('\x0a')!=-0x1){caslCk['split']('\x0a')['forEach'](_0x5d701a=>{caslCkArr['push'](_0x5d701a);});}else{caslCkArr['push'](caslCk);}}else{log('\x0a\x20【'+$['name']+'】：未填写变量\x20caslCk');return;}return!![];}async function GetRewrite(){if($request['url']['indexOf']('appapi/v1/member/ms/wallet')>-0x1){const _0xc62d2c=$request['headers']['Authorization'];if(caslCk){if(caslCk['indexOf'](_0xc62d2c)==-(0x88b69^0x88b68)){caslCk=caslCk+'@'+_0xc62d2c;$['setdata'](caslCk,'caslCk');let _0x5cc500=caslCk['split']('@');$['msg']('【'+$['name']+'】'+('\x20获取第'+_0x5cc500['length']+'个\x20ck\x20成功:\x20'+_0xc62d2c+'\x20,不用请自行关闭重写!'));}}else{$['setdata'](_0xc62d2c,'caslCk');$['msg']('【'+$['name']+'】'+('\x20获取第1个\x20ck\x20成功:\x20'+_0xc62d2c+'\x20,不用请自行关闭重写!'));}}}function addNotifyStr(_0x2b7bf3,_0x424222=!![]){if(_0x424222){log(_0x2b7bf3+'\x0a');}msg+=_0x2b7bf3+'\x0a';}async function SendMsg(_0x3ad2bf){if(!_0x3ad2bf)return;if(Notify>0x0){if($['isNode']()){var _0x1769ba=require('./sendNotify');await _0x1769ba['sendNotify']($['name'],_0x3ad2bf);}else{$['msg'](_0x3ad2bf);}}else{log(_0x3ad2bf);}}function getArticleIdIndex(_0xae378d,_0x1ef91e){var _0x142ba0=randomNum(0x833bb^0x833bb,_0x1ef91e);if(_0xae378d['indexOf'](_0x142ba0)>=0x0){_0x142ba0=randomNum(0xd5b64^0xd5b64,_0x1ef91e);}if(_0xae378d['indexOf'](_0x142ba0)>=(0xcf6b5^0xcf6b5)){_0x142ba0=randomNum(0x0,_0x1ef91e);}if(_0xae378d['indexOf'](_0x142ba0)>=0x0){_0x142ba0=randomNum(0x0,_0x1ef91e);}if(_0xae378d['indexOf'](_0x142ba0)>=0x0){_0x142ba0=randomNum(0x8074f^0x8074f,_0x1ef91e);}if(_0xae378d['indexOf'](_0x142ba0)>=0x0){_0x142ba0=randomNum(0xa0a25^0xa0a25,_0x1ef91e);}return _0x142ba0;}function randomNum(_0x361697,_0x31ae87){const _0x25b5ac=_0x31ae87-_0x361697;const _0x5e59e1=Math['random']();return _0x361697+Math['floor'](_0x5e59e1*_0x25b5ac);}function safeGet(_0x1f90de){try{if(typeof JSON['parse'](_0x1f90de)=='object'){return!![];}}catch(_0x10a9a2){console['log'](_0x10a9a2);console['log']('服务器访问数据为空，请检查自身设备网络情况');return![];}}function delay(){let _0x35fed8=parseInt(Math['random']()*0x186a0);if(_0x35fed8>0x7530){return delay();}else{console['log']('随机延时：',_0x35fed8+'ms,\x20避免大家运行时间一样');return _0x35fed8;}}function getVersion(_0x3aac43=0x3*(0x8a390^0x8a078)){return new Promise(_0x5f160c=>{let _0x28c89f={'url':'https://ghproxy.com/https://github.com/Shawn220528/scripts/blob/main/version.txt'};$['get'](_0x28c89f,async(_0x1a616e,_0x4bd3ab,_0x2a3576)=>{try{if(_0x2a3576['indexOf']('24d76e1d10e77e3c9c67955f18e8cde735d3e94a')!=-0x1){scriptVersionCheck=!![];log('版本验证成功');}}catch(_0x1a22b2){$['logErr'](_0x1a22b2,_0x4bd3ab);}finally{_0x5f160c();}},_0x3aac43);});}function Env(_0x2c02ed,_0xfe5498){'undefined'!=typeof process&&JSON['stringify'](process['env'])['indexOf']('GITHUB')>-0x1&&process['exit'](0x0);class _0x456b4d{constructor(_0x4a4ea1){this['env']=_0x4a4ea1;}['send'](_0x28366e,_0x3f261f='GET'){_0x28366e='string'==typeof _0x28366e?{'url':_0x28366e}:_0x28366e;let _0x576e0a=this['get'];return'POST'===_0x3f261f&&(_0x576e0a=this['post']),new Promise((_0x30d62f,_0x42f34d)=>{_0x576e0a['call'](this,_0x28366e,(_0x4d85f9,_0x186438,_0x55f771)=>{_0x4d85f9?_0x42f34d(_0x4d85f9):_0x30d62f(_0x186438);});});}['get'](_0x3272de){return this['send']['call'](this['env'],_0x3272de);}['post'](_0x29a57a){return this['send']['call'](this['env'],_0x29a57a,'POST');}}return new class{constructor(_0x32f9ab,_0xd5f435){this['name']=_0x32f9ab,this['http']=new _0x456b4d(this),this['data']=null,this['dataFile']='box.dat',this['logs']=[],this['isMute']=!(0xce4da^0xce4db),this['isNeedRewrite']=!(0xb9184^0xb9185),this['logSeparator']='\x0a',this['startTime']=new Date()['getTime'](),Object['assign'](this,_0xd5f435),this['log']('','🔔'+this['name']+',\x20开始!');}['isNode'](){return'undefined'!=typeof module&&!!module['exports'];}['isQuanX'](){return'undefined'!=typeof $task;}['isSurge'](){return'undefined'!=typeof $httpClient&&'undefined'==typeof $loon;}['isLoon'](){return'undefined'!=typeof $loon;}['toObj'](_0x11e7ea,_0x130943=null){try{return JSON['parse'](_0x11e7ea);}catch{return _0x130943;}}['toStr'](_0x51d78f,_0x1121ec=null){try{return JSON['stringify'](_0x51d78f);}catch{return _0x1121ec;}}['getjson'](_0x40bae0,_0x379846){let _0x442fa5=_0x379846;const _0x350c97=this['getdata'](_0x40bae0);if(_0x350c97)try{_0x442fa5=JSON['parse'](this['getdata'](_0x40bae0));}catch{}return _0x442fa5;}['setjson'](_0x19c2c7,_0x178a5f){try{return this['setdata'](JSON['stringify'](_0x19c2c7),_0x178a5f);}catch{return!0x1;}}['getScript'](_0xc0730f){return new Promise(_0x2fcf0d=>{this['get']({'url':_0xc0730f},(_0x1b3d4d,_0x1ecb7f,_0x59b866)=>_0x2fcf0d(_0x59b866));});}['runScript'](_0x4f818c,_0x1b39dd){return new Promise(_0x5d26e7=>{let _0x15fddd=this['getdata']('@chavy_boxjs_userCfgs.httpapi');_0x15fddd=_0x15fddd?_0x15fddd['replace'](/\n/g,'')['trim']():_0x15fddd;let _0x4627b3=this['getdata']('@chavy_boxjs_userCfgs.httpapi_timeout');_0x4627b3=_0x4627b3?0x1*_0x4627b3:0x8f8fe^0x8f8ea,_0x4627b3=_0x1b39dd&&_0x1b39dd['timeout']?_0x1b39dd['timeout']:_0x4627b3;const [_0x45b470,_0x3540b6]=_0x15fddd['split']('@'),_0x8e54b6={'url':'http://'+_0x3540b6+'/v1/scripting/evaluate','body':{'script_text':_0x4f818c,'mock_type':'cron','timeout':_0x4627b3},'headers':{'X-Key':_0x45b470,'Accept':'*/*'}};this['post'](_0x8e54b6,(_0x2d398c,_0x390926,_0x4858a5)=>_0x5d26e7(_0x4858a5));})['catch'](_0x51c9d4=>this['logErr'](_0x51c9d4));}['loaddata'](){if(!this['isNode']())return{};{this['fs']=this['fs']?this['fs']:require('fs'),this['path']=this['path']?this['path']:require('path');const _0xced2d3=this['path']['resolve'](this['dataFile']),_0x6c24db=this['path']['resolve'](process['cwd'](),this['dataFile']),_0x3046c9=this['fs']['existsSync'](_0xced2d3),_0x1dea4e=!_0x3046c9&&this['fs']['existsSync'](_0x6c24db);if(!_0x3046c9&&!_0x1dea4e)return{};{const _0x137e94=_0x3046c9?_0xced2d3:_0x6c24db;try{return JSON['parse'](this['fs']['readFileSync'](_0x137e94));}catch(_0x517418){return{};}}}}['writedata'](){if(this['isNode']()){this['fs']=this['fs']?this['fs']:require('fs'),this['path']=this['path']?this['path']:require('path');const _0x887f87=this['path']['resolve'](this['dataFile']),_0x1e3181=this['path']['resolve'](process['cwd'](),this['dataFile']),_0x3c8285=this['fs']['existsSync'](_0x887f87),_0x24f92a=!_0x3c8285&&this['fs']['existsSync'](_0x1e3181),_0x595db5=JSON['stringify'](this['data']);_0x3c8285?this['fs']['writeFileSync'](_0x887f87,_0x595db5):_0x24f92a?this['fs']['writeFileSync'](_0x1e3181,_0x595db5):this['fs']['writeFileSync'](_0x887f87,_0x595db5);}}['lodash_get'](_0x336d6a,_0x439ed6,_0x3fc9f7){const _0x2e30cf=_0x439ed6['replace'](/\[(\d+)\]/g,'.$1')['split']('.');let _0x4c7596=_0x336d6a;for(const _0x47e5d5 of _0x2e30cf)if(_0x4c7596=Object(_0x4c7596)[_0x47e5d5],void 0x0===_0x4c7596)return _0x3fc9f7;return _0x4c7596;}['lodash_set'](_0x4d8b4e,_0x10a813,_0x241edf){return Object(_0x4d8b4e)!==_0x4d8b4e?_0x4d8b4e:(Array['isArray'](_0x10a813)||(_0x10a813=_0x10a813['toString']()['match'](/[^.[\]]+/g)||[]),_0x10a813['slice'](0x0,-(0x5957c^0x5957d))['reduce']((_0xa55b7,_0x82e88b,_0x2adfbf)=>Object(_0xa55b7[_0x82e88b])===_0xa55b7[_0x82e88b]?_0xa55b7[_0x82e88b]:_0xa55b7[_0x82e88b]=Math['abs'](_0x10a813[_0x2adfbf+0x1])>>0x0==+_0x10a813[_0x2adfbf+(0x6ffcf^0x6ffce)]?[]:{},_0x4d8b4e)[_0x10a813[_0x10a813['length']-(0x971ee^0x971ef)]]=_0x241edf,_0x4d8b4e);}['getdata'](_0x1c0de6){let _0x1a71d0=this['getval'](_0x1c0de6);if(/^@/['test'](_0x1c0de6)){const [,_0x28a632,_0x40332b]=/^@(.*?)\.(.*?)$/['exec'](_0x1c0de6),_0x1d477e=_0x28a632?this['getval'](_0x28a632):'';if(_0x1d477e)try{const _0x472809=JSON['parse'](_0x1d477e);_0x1a71d0=_0x472809?this['lodash_get'](_0x472809,_0x40332b,''):_0x1a71d0;}catch(_0x27a351){_0x1a71d0='';}}return _0x1a71d0;}['setdata'](_0x3b7e55,_0x4a490a){let _0x390859=!0x1;if(/^@/['test'](_0x4a490a)){const [,_0xff4631,_0x486f12]=/^@(.*?)\.(.*?)$/['exec'](_0x4a490a),_0x290558=this['getval'](_0xff4631),_0x1a6044=_0xff4631?'null'===_0x290558?null:_0x290558||'{}':'{}';try{const _0x38776a=JSON['parse'](_0x1a6044);this['lodash_set'](_0x38776a,_0x486f12,_0x3b7e55),_0x390859=this['setval'](JSON['stringify'](_0x38776a),_0xff4631);}catch(_0x23f9da){const _0x4e25bc={};this['lodash_set'](_0x4e25bc,_0x486f12,_0x3b7e55),_0x390859=this['setval'](JSON['stringify'](_0x4e25bc),_0xff4631);}}else _0x390859=this['setval'](_0x3b7e55,_0x4a490a);return _0x390859;}['getval'](_0x412dfc){return this['isSurge']()||this['isLoon']()?$persistentStore['read'](_0x412dfc):this['isQuanX']()?$prefs['valueForKey'](_0x412dfc):this['isNode']()?(this['data']=this['loaddata'](),this['data'][_0x412dfc]):this['data']&&this['data'][_0x412dfc]||null;}['setval'](_0x206e01,_0x58d5be){return this['isSurge']()||this['isLoon']()?$persistentStore['write'](_0x206e01,_0x58d5be):this['isQuanX']()?$prefs['setValueForKey'](_0x206e01,_0x58d5be):this['isNode']()?(this['data']=this['loaddata'](),this['data'][_0x58d5be]=_0x206e01,this['writedata'](),!0x0):this['data']&&this['data'][_0x58d5be]||null;}['initGotEnv'](_0x51ee31){this['got']=this['got']?this['got']:require('got'),this['cktough']=this['cktough']?this['cktough']:require('tough-cookie'),this['ckjar']=this['ckjar']?this['ckjar']:new this['cktough']['CookieJar'](),_0x51ee31&&(_0x51ee31['headers']=_0x51ee31['headers']?_0x51ee31['headers']:{},void 0x0===_0x51ee31['headers']['Cookie']&&void 0x0===_0x51ee31['cookieJar']&&(_0x51ee31['cookieJar']=this['ckjar']));}['get'](_0x107dcd,_0x24b085=()=>{}){_0x107dcd['headers']&&(delete _0x107dcd['headers']['Content-Type'],delete _0x107dcd['headers']['Content-Length']),this['isSurge']()||this['isLoon']()?(this['isSurge']()&&this['isNeedRewrite']&&(_0x107dcd['headers']=_0x107dcd['headers']||{},Object['assign'](_0x107dcd['headers'],{'X-Surge-Skip-Scripting':!0x1})),$httpClient['get'](_0x107dcd,(_0x4baa3a,_0x1237a5,_0x9677fb)=>{!_0x4baa3a&&_0x1237a5&&(_0x1237a5['body']=_0x9677fb,_0x1237a5['statusCode']=_0x1237a5['status']),_0x24b085(_0x4baa3a,_0x1237a5,_0x9677fb);})):this['isQuanX']()?(this['isNeedRewrite']&&(_0x107dcd['opts']=_0x107dcd['opts']||{},Object['assign'](_0x107dcd['opts'],{'hints':!(0x888df^0x888de)})),$task['fetch'](_0x107dcd)['then'](_0x8f20a7=>{const {statusCode:_0x55eb21,statusCode:_0x2e4f81,headers:_0x4a8df5,body:_0x19791b}=_0x8f20a7;_0x24b085(null,{'status':_0x55eb21,'statusCode':_0x2e4f81,'headers':_0x4a8df5,'body':_0x19791b},_0x19791b);},_0x4c379b=>_0x24b085(_0x4c379b))):this['isNode']()&&(this['initGotEnv'](_0x107dcd),this['got'](_0x107dcd)['on']('redirect',(_0x23e38c,_0x108dff)=>{try{if(_0x23e38c['headers']['set-cookie']){const _0x1b1192=_0x23e38c['headers']['set-cookie']['map'](this['cktough']['Cookie']['parse'])['toString']();_0x1b1192&&this['ckjar']['setCookieSync'](_0x1b1192,null),_0x108dff['cookieJar']=this['ckjar'];}}catch(_0x3ec589){this['logErr'](_0x3ec589);}})['then'](_0x15d76a=>{const {statusCode:_0x4f00a6,statusCode:_0x5f5be4,headers:_0x25bac9,body:_0xf72af1}=_0x15d76a;_0x24b085(null,{'status':_0x4f00a6,'statusCode':_0x5f5be4,'headers':_0x25bac9,'body':_0xf72af1},_0xf72af1);},_0x43bc4d=>{const {message:_0x1e252b,response:_0x5760ff}=_0x43bc4d;_0x24b085(_0x1e252b,_0x5760ff,_0x5760ff&&_0x5760ff['body']);}));}['post'](_0x3dfba3,_0x535879=()=>{}){if(_0x3dfba3['body']&&_0x3dfba3['headers']&&!_0x3dfba3['headers']['Content-Type']&&(_0x3dfba3['headers']['Content-Type']='application/x-www-form-urlencoded'),_0x3dfba3['headers']&&delete _0x3dfba3['headers']['Content-Length'],this['isSurge']()||this['isLoon']())this['isSurge']()&&this['isNeedRewrite']&&(_0x3dfba3['headers']=_0x3dfba3['headers']||{},Object['assign'](_0x3dfba3['headers'],{'X-Surge-Skip-Scripting':!0x1})),$httpClient['post'](_0x3dfba3,(_0x2cadd4,_0x4dff6b,_0x45388d)=>{!_0x2cadd4&&_0x4dff6b&&(_0x4dff6b['body']=_0x45388d,_0x4dff6b['statusCode']=_0x4dff6b['status']),_0x535879(_0x2cadd4,_0x4dff6b,_0x45388d);});else if(this['isQuanX']())_0x3dfba3['method']='POST',this['isNeedRewrite']&&(_0x3dfba3['opts']=_0x3dfba3['opts']||{},Object['assign'](_0x3dfba3['opts'],{'hints':!0x1})),$task['fetch'](_0x3dfba3)['then'](_0x33fb75=>{const {statusCode:_0x22972f,statusCode:_0x58c9ad,headers:_0x4f3546,body:_0x4542a7}=_0x33fb75;_0x535879(null,{'status':_0x22972f,'statusCode':_0x58c9ad,'headers':_0x4f3546,'body':_0x4542a7},_0x4542a7);},_0x842365=>_0x535879(_0x842365));else if(this['isNode']()){this['initGotEnv'](_0x3dfba3);const {url:_0x113633,..._0x1d59f1}=_0x3dfba3;this['got']['post'](_0x113633,_0x1d59f1)['then'](_0x2088f4=>{const {statusCode:_0x5aa6c7,statusCode:_0x29871d,headers:_0x37dd94,body:_0x5f7583}=_0x2088f4;_0x535879(null,{'status':_0x5aa6c7,'statusCode':_0x29871d,'headers':_0x37dd94,'body':_0x5f7583},_0x5f7583);},_0x842a5e=>{const {message:_0x35d2eb,response:_0x182182}=_0x842a5e;_0x535879(_0x35d2eb,_0x182182,_0x182182&&_0x182182['body']);});}}['time'](_0xd5ec8c,_0xc9b1dd=null){const _0x3ce165=_0xc9b1dd?new Date(_0xc9b1dd):new Date();let _0x3d25a2={'M+':_0x3ce165['getMonth']()+(0x8dc15^0x8dc14),'d+':_0x3ce165['getDate'](),'H+':_0x3ce165['getHours'](),'m+':_0x3ce165['getMinutes'](),'s+':_0x3ce165['getSeconds'](),'q+':Math['floor']((_0x3ce165['getMonth']()+0x3)/(0x3af1f^0x3af1c)),'S':_0x3ce165['getMilliseconds']()};/(y+)/['test'](_0xd5ec8c)&&(_0xd5ec8c=_0xd5ec8c['replace'](RegExp['$1'],(_0x3ce165['getFullYear']()+'')['substr']((0x5c967^0x5c963)-RegExp['$1']['length'])));for(let _0x1d746c in _0x3d25a2)new RegExp('('+_0x1d746c+')')['test'](_0xd5ec8c)&&(_0xd5ec8c=_0xd5ec8c['replace'](RegExp['$1'],(0xa22f7^0xa22f6)==RegExp['$1']['length']?_0x3d25a2[_0x1d746c]:('00'+_0x3d25a2[_0x1d746c])['substr']((''+_0x3d25a2[_0x1d746c])['length'])));return _0xd5ec8c;}['msg'](_0x262e9e=_0x2c02ed,_0x5c641c='',_0x187f48='',_0x4be08b){const _0x38f980=_0x48c439=>{if(!_0x48c439)return _0x48c439;if('string'==typeof _0x48c439)return this['isLoon']()?_0x48c439:this['isQuanX']()?{'open-url':_0x48c439}:this['isSurge']()?{'url':_0x48c439}:void(0xd4f34^0xd4f34);if('object'==typeof _0x48c439){if(this['isLoon']()){let _0x1a9608=_0x48c439['openUrl']||_0x48c439['url']||_0x48c439['open-url'],_0x5a9873=_0x48c439['mediaUrl']||_0x48c439['media-url'];return{'openUrl':_0x1a9608,'mediaUrl':_0x5a9873};}if(this['isQuanX']()){let _0xec4a97=_0x48c439['open-url']||_0x48c439['url']||_0x48c439['openUrl'],_0x1fefa1=_0x48c439['media-url']||_0x48c439['mediaUrl'];return{'open-url':_0xec4a97,'media-url':_0x1fefa1};}if(this['isSurge']()){let _0x38b7cc=_0x48c439['url']||_0x48c439['openUrl']||_0x48c439['open-url'];return{'url':_0x38b7cc};}}};if(this['isMute']||(this['isSurge']()||this['isLoon']()?$notification['post'](_0x262e9e,_0x5c641c,_0x187f48,_0x38f980(_0x4be08b)):this['isQuanX']()&&$notify(_0x262e9e,_0x5c641c,_0x187f48,_0x38f980(_0x4be08b))),!this['isMuteLog']){let _0x17d89e=['','==============📣系统通知📣=============='];_0x17d89e['push'](_0x262e9e),_0x5c641c&&_0x17d89e['push'](_0x5c641c),_0x187f48&&_0x17d89e['push'](_0x187f48),console['log'](_0x17d89e['join']('\x0a')),this['logs']=this['logs']['concat'](_0x17d89e);}}['log'](..._0x2f306e){_0x2f306e['length']>0x0&&(this['logs']=[...this['logs'],..._0x2f306e]),console['log'](_0x2f306e['join'](this['logSeparator']));}['logErr'](_0x352fd5,_0x103a5a){const _0x2f6c1e=!this['isSurge']()&&!this['isQuanX']()&&!this['isLoon']();_0x2f6c1e?this['log']('','❗️'+this['name']+',\x20错误!',_0x352fd5['stack']):this['log']('','❗️'+this['name']+',\x20错误!',_0x352fd5);}['wait'](_0x19f73b){return new Promise(_0x5f4146=>setTimeout(_0x5f4146,_0x19f73b));}['done'](_0x1ee3f7={}){const _0x457015=new Date()['getTime'](),_0x5bca12=(_0x457015-this['startTime'])/(0xdadf5^0xdae1d);this['log']('','🔔'+this['name']+',\x20结束!\x20🕛\x20'+_0x5bca12+'\x20秒'),this['log'](),(this['isSurge']()||this['isQuanX']()||this['isLoon']())&&$done(_0x1ee3f7);}}(_0x2c02ed,_0xfe5498);}