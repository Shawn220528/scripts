/**
 作者：shawn
 日期：8-10
 9.9更新 不重复执行任务，增加一些任务
 长安深蓝小程序 app的一样用 一天几百积分
 抓取域名 app-api.deepal.com.cn 抓取账号请求头Authorization的值就可以
 变量格式：export caslCk='111'@'222' 多账户 换行 或者 @ 分割
 定时1-2次
 Cron：15 7,12 * * *
 [task_local]
 #长安深蓝小程序 打开积分
 [rewrite_local]
 https://app-api.deepal.com.cn/appapi/v1/member/ms/wallet url script-request-headers https://github.com/Shawn220528/scripts/blob/main/casl.js
 [MITM]
 hostname = app-api.deepal.com.cn
 */
const $=new Env('长安深蓝');const {log}=console;const Notify=0x80b04^0x80b05;const debug=0x9082d^0x9082d;let request=require('request');let scriptVersion='1.0.1';let scriptVersionCheck=![];let caslCk=($['isNode']()?process['env']['caslCk']:$['getdata']('caslCk'))||'';let caslCkArr=[];let msg='';let memberId='';let memberName='';let beforeCountPoint=0x94f9c^0x94f9c;let userAgent='Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2015_6\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148\x20MicroMessenger/8.0.26(0x18001a2d)\x20NetType/WIFI\x20Language/zh_CN';let allowTasks=['BC00009','BC00001','BS00001','BC00002','BC00003','BS00002','BC00005','BS00008','BC00006','BC00007','BS00009'];let firstTasks=[];let dailyTasks=[];let information=[];let dynamic=[];let currCommentId='';let curHour=new Date()['getHours']();!(async()=>{if(typeof $request!=='undefined'){await GetRewrite();}else{if(!await Envs())return;else{currTime=new Date(new Date()['getTime']()+new Date()['getTimezoneOffset']()*(0x29f78^0x29f44)*(0x5f1a2^0x5f24a)+(0x51b31^0x51b39)*(0x82802^0x8283e)*(0x57e7e^0x57e42)*(0x33c9b^0x33f73))['toLocaleString']();log('\x0a\x0a=============================================\x20\x20\x20\x20\x0a脚本执行\x20-\x20北京时间(UTC+8)：'+currTime+'\x20\x0a=============================================\x0a');await getVersion();await $['wait'](randomInt(0xcaea7^0xcad4f,0x2dd17^0x2d6af));if(!scriptVersionCheck){log('版本验证失败，请检查网络或更新版本重试！');return;}log('\x0a============\x20当前版本：'+scriptVersion+'============');log('\x0a===================\x20共找到\x20'+caslCkArr['length']+'\x20个账号\x20===================');if(debug){log('【debug】\x20这是你的全部账号数组:\x0a\x20'+caslCkArr);}for(let _0x39ce15=0x0;_0x39ce15<caslCkArr['length'];_0x39ce15++){let _0x43d536=_0x39ce15+(0xbfc75^0xbfc74);addNotifyStr('开始'+_0x43d536+'个账号：',!![]);await $['wait'](delay());caslCk=caslCkArr[_0x39ce15];addNotifyStr('1.获取所有任务列表',!![]);await taskList();await $['wait'](delay());addNotifyStr('2.获取任务需要数据',!![]);await wallet(![]);await $['wait'](delay());await articlequery();await $['wait'](delay());addNotifyStr('3.开始进行一次性任务',!![]);if(firstTasks['length']>0x0){for(var _0x2fc8b3 in firstTasks){var _0x3e9983=firstTasks[_0x2fc8b3]['ruleCode'];var _0x263492=firstTasks[_0x2fc8b3]['finishStatus'];var _0x4a61bf=firstTasks[_0x2fc8b3]['ruleName'];if(_0x263492==(0x9c3bc^0x9c3bd)){console['log']('任务：'+_0x4a61bf+'，已经完成，不再重复执行！');}else{if(_0x3e9983=='BC00011'){addNotifyStr('开始执行：'+_0x4a61bf);await viewRule();await $['wait'](0xed521^0xec6a9);}else if(_0x3e9983=='BV00001'){addNotifyStr('开始执行：'+_0x4a61bf);await carShow();await $['wait'](0x1388);}}}}else{addNotifyStr('获取首次任务失败！');}await $['wait'](delay());addNotifyStr('4.开始进行日常任务',!![]);if(dailyTasks['length']>(0x83a09^0x83a09)){for(var _0x2fc8b3 in dailyTasks){var _0x3e9983=dailyTasks[_0x2fc8b3]['ruleCode'];var _0x263492=dailyTasks[_0x2fc8b3]['finishStatus'];var _0x4a61bf=dailyTasks[_0x2fc8b3]['ruleName'];var _0x39eeae=dailyTasks[_0x2fc8b3]['ruleUpperLimit'];var _0x15019f=dailyTasks[_0x2fc8b3]['finiseNum'];var _0x552567=_0x39eeae-_0x15019f;switch(_0x3e9983){case'BC00009':if(_0x263492==(0xa2630^0xa2631)){console['log']('任务：'+_0x4a61bf+'，已经完成，不再重复执行！');}else{addNotifyStr('开始执行：'+_0x4a61bf);await statistics();await $['wait'](0xc3713^0xc249b);}break;case'BC00001':if(information['length']>0x0){if(_0x263492==0x1){console['log']('任务：'+_0x4a61bf+'，已经完成！');}else{addNotifyStr('开始执行：'+_0x4a61bf);var _0x24cf0e=[];for(let _0x4fc9e1=0x0;_0x4fc9e1<_0x552567;_0x4fc9e1++){var _0x2f2115=getArticleIdIndex(_0x24cf0e,information['length']);var _0x5745b9=information[_0x2f2115];_0x24cf0e['push'](_0x2f2115);await viewarticle1(_0x5745b9);await $['wait'](0x1388);}}}break;case'BS00001':if(information['length']>(0x8d476^0x8d476)){if(_0x263492==0x1){console['log']('任务：'+_0x4a61bf+'，已经完成！');}else{addNotifyStr('开始执行：'+_0x4a61bf);var _0x24cf0e=[];for(let _0x4b666d=0x87c06^0x87c06;_0x4b666d<_0x552567;_0x4b666d++){var _0x2f2115=getArticleIdIndex(_0x24cf0e,information['length']);var _0x5745b9=information[_0x2f2115];_0x24cf0e['push'](_0x2f2115);await comment(_0x5745b9);await $['wait'](0x56cb2^0x57f3a);await deleteComment();await $['wait'](0x98338^0x990b0);}}}break;case'BC00002':if(information['length']>0x0){if(_0x263492==(0xe23ba^0xe23bb)){console['log']('任务：'+_0x4a61bf+'，已经完成！');}else{addNotifyStr('开始执行：'+_0x4a61bf);var _0x24cf0e=[];for(let _0x2a9572=0x0;_0x2a9572<_0x552567;_0x2a9572++){var _0x2f2115=getArticleIdIndex(_0x24cf0e,information['length']);var _0x5745b9=information[_0x2f2115];_0x24cf0e['push'](_0x2f2115);await praises(_0x5745b9);await $['wait'](0x8b123^0x8a2ab);await deletePraises(_0x5745b9);await $['wait'](0x9b403^0x9a78b);}}}break;case'BC00003':if(_0x263492==0x1){console['log']('任务：'+_0x4a61bf+'，已经完成！');}else{addNotifyStr('开始执行：'+_0x4a61bf);var _0x24cf0e=[];for(let _0x109214=0x0;_0x109214<_0x552567;_0x109214++){var _0x2f2115=getArticleIdIndex(_0x24cf0e,information['length']);var _0x5745b9=information[_0x2f2115];_0x24cf0e['push'](_0x2f2115);await like(_0x5745b9);await $['wait'](0x1388);await deleteLike(_0x5745b9);await $['wait'](0x1388);}}break;case'BS00002':if(information['length']>0x0){if(_0x263492==0x1){console['log']('任务：'+_0x4a61bf+'，已经完成！');}else{addNotifyStr('开始执行：'+_0x4a61bf);var _0x24cf0e=[];for(let _0x4179c1=0xd21e2^0xd21e2;_0x4179c1<_0x552567;_0x4179c1++){var _0x2f2115=getArticleIdIndex(_0x24cf0e,information['length']);var _0x5745b9=information[_0x2f2115];_0x24cf0e['push'](_0x2f2115);await articleshare(_0x5745b9);await $['wait'](0xc350);}}}break;case'BC00005':if(dynamic['length']>0x0){if(_0x263492==0x1){console['log']('任务：'+_0x4a61bf+'，已经完成！');}else{addNotifyStr('开始执行：'+_0x4a61bf);var _0x24cf0e=[];for(let _0x38a5c2=0x0;_0x38a5c2<_0x552567;_0x38a5c2++){var _0x2f2115=getArticleIdIndex(_0x24cf0e,dynamic['length']);var _0x5745b9=dynamic[_0x2f2115];_0x24cf0e['push'](_0x2f2115);await viewarticle(_0x5745b9);await $['wait'](0x1388);await viewComment(_0x5745b9);await $['wait'](0x1388);}}}break;case'BS00008':if(dynamic['length']>(0x6d269^0x6d269)){if(_0x263492==0x1){console['log']('任务：'+_0x4a61bf+'，已经完成！');}else{addNotifyStr('开始执行：'+_0x4a61bf);var _0x24cf0e=[];for(let _0x3ab3cc=0x5b73d^0x5b73d;_0x3ab3cc<_0x552567;_0x3ab3cc++){var _0x2f2115=getArticleIdIndex(_0x24cf0e,dynamic['length']);var _0x5745b9=dynamic[_0x2f2115];_0x24cf0e['push'](_0x2f2115);await comment(_0x5745b9);await $['wait'](0x99bcc^0x98844);await deleteComment();await $['wait'](0x1388);}}}break;case'BC00006':if(dynamic['length']>0x0){if(_0x263492==0x1){console['log']('任务：'+_0x4a61bf+'，已经完成！');}else{addNotifyStr('开始执行：'+_0x4a61bf);var _0x24cf0e=[];for(let _0x30cc5e=0x2851b^0x2851b;_0x30cc5e<_0x552567;_0x30cc5e++){var _0x2f2115=getArticleIdIndex(_0x24cf0e,dynamic['length']);var _0x5745b9=dynamic[_0x2f2115];_0x24cf0e['push'](_0x2f2115);await praises(_0x5745b9);await $['wait'](0x1388);await deletePraises(_0x5745b9);await $['wait'](0x1388);}}}break;case'BC00007':if(dynamic['length']>0x0){if(_0x263492==0x1){console['log']('任务：'+_0x4a61bf+'，已经完成！');}else{addNotifyStr('开始执行：'+_0x4a61bf);var _0x24cf0e=[];for(let _0x580bf7=0x0;_0x580bf7<_0x552567;_0x580bf7++){var _0x2f2115=getArticleIdIndex(_0x24cf0e,dynamic['length']);var _0x5745b9=dynamic[_0x2f2115];_0x24cf0e['push'](_0x2f2115);await like(_0x5745b9);await $['wait'](0x69b89^0x68801);await deleteLike(_0x5745b9);await $['wait'](0x22304^0x2308c);}}}break;case'BS00009':if(dynamic['length']>(0x815c8^0x815c8)){if(_0x263492==0x1){console['log']('任务：'+_0x4a61bf+'，已经完成！');}else{addNotifyStr('开始执行：'+_0x4a61bf);var _0x24cf0e=[];for(let _0x9e58d4=0x33de4^0x33de4;_0x9e58d4<_0x552567;_0x9e58d4++){var _0x2f2115=getArticleIdIndex(_0x24cf0e,dynamic['length']);var _0x5745b9=dynamic[_0x2f2115];_0x24cf0e['push'](_0x2f2115);await articleshare(_0x5745b9);await $['wait'](0xc350);}}}break;default:console['log']('任务：'+_0x4a61bf+'，不在待执行任务列表！');break;}}}else{addNotifyStr('获取日常任务失败！');}await $['wait'](delay());await activityquery();await $['wait'](delay());await wallet(!![]);}await SendMsg(msg);}}})()['catch'](_0x464f7b=>log(_0x464f7b))['finally'](()=>$['done']());async function taskList(){return new Promise(_0x44b979=>{let _0x37e4c5={'url':'https://app-api.deepal.com.cn/appapi/v1/member/member/ms/point/task','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|1658806402133'}};if(debug){log('\x0a【debug】===============\x20这是\x20获取任务列表\x20请求\x20url\x20===============');log(JSON['stringify'](_0x37e4c5));}$['get'](_0x37e4c5,async(_0x3565e1,_0x122b1e,_0x73d78f)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20获取任务列表\x20返回data==============');log(_0x73d78f);}if(safeGet(_0x73d78f)){let _0x484e76=JSON['parse'](_0x73d78f);if(_0x484e76['code']==(0x2325d^0x23295)){for(var _0x20bb35 in _0x484e76['data']){var _0x32916b=_0x484e76['data'][_0x20bb35]['ruleName'];var _0x4f8acb=_0x484e76['data'][_0x20bb35]['ruleCode'];if(_0x4f8acb=='BC00011'){firstTasks['push'](_0x484e76['data'][_0x20bb35]);}else if(_0x4f8acb=='BV00001'){firstTasks['push'](_0x484e76['data'][_0x20bb35]);}else if(allowTasks['indexOf'](_0x4f8acb)>=0x0){dailyTasks['push'](_0x484e76['data'][_0x20bb35]);}else{console['log']('任务：【'+_0x32916b+'】，不支持自动执行！');}}}else{addNotifyStr('获取任务列表失败：\x20'+_0x484e76['message'],!![]);}}}catch(_0x1e0a5d){log(_0x1e0a5d);log(_0x73d78f);}finally{_0x44b979();}});});}async function statistics(){return new Promise(_0x579ae7=>{let _0x3666c2={'url':'https://app-api.deepal.com.cn/appapi/v1/member/ms/'+memberId+'/statistics','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'*/*','User-Agent':'CAQC/1.1.3\x20(iPhone;\x20iOS\x2015.2;\x20Scale/3.00)','Accept-Language':'zh-Hans-CN;q=1','Accept-Encoding':'gzip,\x20deflate,\x20br','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}};if(debug){log('\x0a【debug】===============\x20这是\x20登录\x20请求\x20url\x20===============');log(JSON['stringify'](_0x3666c2));}$['get'](_0x3666c2,async(_0x50e605,_0x58e696,_0x13384c)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20登录\x20返回data==============');log(_0x13384c);}if(safeGet(_0x13384c)){let _0x45c9f6=JSON['parse'](_0x13384c);addNotifyStr('登录：'+_0x45c9f6['message'],!![]);}}catch(_0x3cf8af){log(_0x3cf8af);log(_0x13384c);}finally{_0x579ae7();}});});}async function bucket(){return new Promise(_0x2a2b71=>{let _0x1e09eb={'url':'https://app-api.deepal.com.cn/appapi/v1/tencent/cos/bucket','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|1658806402133'}};if(debug){log('\x0a【debug】===============\x20这是\x20查看规则\x20请求\x20url\x20===============');log(JSON['stringify'](_0x1e09eb));}$['get'](_0x1e09eb,async(_0x9989e7,_0x4e6135,_0x1bcb2c)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20查看规则\x20返回data==============');log(_0x1bcb2c);}if(safeGet(_0x1bcb2c)){let _0x12363f=JSON['parse'](_0x1bcb2c);addNotifyStr('查看车型：'+_0x12363f['message'],!![]);}}catch(_0xb5f02a){log(_0xb5f02a);log(_0x1bcb2c);}finally{_0x2a2b71();}});});}async function wallet(_0x1885db){return new Promise(_0x359990=>{let _0x2eea50={'url':'https://app-api.deepal.com.cn/appapi/v1/member/ms/wallet','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json','User-Agent':''+userAgent,'Accept-Encoding':'gzip,compress,br,deflate','content-type':'application/x-www-form-urlencoded','authorization':''+caslCk,'apptype':'mp','appid':'wx0c0217402bdf4059','Referer':'https://servicewechat.com/wx0c0217402bdf4059/14/page-frame.html'}};if(debug){log('\x0a【debug】===============\x20这是\x20查看钱包\x20请求\x20url\x20===============');log(JSON['stringify'](_0x2eea50));}$['get'](_0x2eea50,async(_0x533126,_0x1db6ba,_0x36ab08)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20查看钱包\x20返回data==============');log(_0x36ab08);}if(safeGet(_0x36ab08)){let _0x562149=JSON['parse'](_0x36ab08);if(_0x562149['code']==0xc8){let _0x15ccc4=_0x562149['data'];memberId=_0x15ccc4['id'];memberName=_0x15ccc4['memberName'];if(!_0x1885db){beforeCountPoint=_0x15ccc4['countPoint'];console['log']('账号：'+_0x15ccc4['mobile']+':\x20任务前蓝宝石：'+_0x15ccc4['countPoint']);}else{var _0x3ec171=_0x15ccc4['countPoint']-beforeCountPoint;addNotifyStr('账号：'+_0x15ccc4['mobile']+'，当前蓝宝石：'+_0x15ccc4['countPoint']+'，本次任务收益：'+_0x3ec171,!![]);}}else{addNotifyStr('用户信息查询成功失败：\x20'+_0x562149['message'],!![]);}}}catch(_0x1c5c01){log(_0x1c5c01);log(_0x36ab08);}finally{_0x359990();}});});}async function viewRule(_0x12cd57){return new Promise(_0x4584e4=>{let _0x580220={'url':'https://app-api.deepal.com.cn/appapi/v1/member/ms/viewRule','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|1658806402133'}};if(debug){log('\x0a【debug】===============\x20这是\x20查看攻略\x20请求\x20url\x20===============');log(JSON['stringify'](_0x580220));}$['get'](_0x580220,async(_0x103b80,_0x5193d9,_0x41f11c)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20查看攻略\x20返回data==============');log(_0x41f11c);}if(safeGet(_0x41f11c)){let _0x2471c1=JSON['parse'](_0x41f11c);addNotifyStr('查看攻略：'+_0x2471c1['message'],!![]);}}catch(_0x150ca2){log(_0x150ca2);log(_0x41f11c);}finally{_0x4584e4();}});});}async function carShow(_0x451eca){return new Promise(_0x7790c9=>{let _0x3cc8a8={'url':'https://app-api.deepal.com.cn/appapi/v1/member/ms/carShow','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}};if(debug){log('\x0a【debug】===============\x20这是\x20查看车型\x20请求\x20url\x20===============');log(JSON['stringify'](_0x3cc8a8));}$['get'](_0x3cc8a8,async(_0x2b433e,_0x19f531,_0xab4be0)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20查看车型\x20返回data==============');log(_0xab4be0);}if(safeGet(_0xab4be0)){let _0x3fc410=JSON['parse'](_0xab4be0);addNotifyStr('查看车型：'+_0x3fc410['message'],!![]);}}catch(_0x394320){log(_0x394320);log(_0xab4be0);}finally{_0x7790c9();}});});}async function articlequery(){return new Promise(_0x229727=>{let _0x3df0c5={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/article/query','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()},'body':'{\x22body\x22:\x20{\x22isRecommend\x22:\x20\x221\x22},\x20\x22index\x22:\x20\x221\x22,\x20\x22size\x22:\x20\x221000\x22,\x20\x22lastId\x22:\x20\x220\x22}'};if(debug){log('\x0a【debug】===============\x20这是\x20查询主题\x20请求\x20url\x20===============');log(JSON['stringify'](_0x3df0c5));}$['post'](_0x3df0c5,async(_0x5a7136,_0x2713a2,_0x31d585)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20查询主题\x20返回data==============');log(_0x31d585);}if(safeGet(_0x31d585)){let _0x57d279=JSON['parse'](_0x31d585);if(_0x57d279['code']==(0x4cd93^0x4cd5b)){addNotifyStr('查询主题信息列表成功',!![]);var _0x3b9916=_0x57d279['data'];for(var _0x3a8562 in _0x3b9916){var _0x30725c=_0x3b9916[_0x3a8562]['type'];var _0x4c0ce2=_0x3b9916[_0x3a8562]['id'];if(_0x30725c==0x1){information['push'](_0x4c0ce2);}else if(_0x30725c==(0x2a28a^0x2a28e)){dynamic['push'](_0x4c0ce2);}}}else{addNotifyStr('查询主题信息列表失败：\x20'+_0x57d279['message']);}}}catch(_0x500027){log(_0x500027);log(_0x31d585);}finally{_0x229727();}});});}async function activityquery(){return new Promise(_0x145c42=>{let _0x45e15a={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/activity/query','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()},'body':'{\x22body\x22:{\x22cityCode\x22:\x22-1\x22,\x22cityName\x22:\x22全国\x22,\x22lat\x22:0,\x22lng\x22:0},\x22index\x22:1,\x22size\x22:100,\x22lastId\x22:0}'};if(debug){log('\x0a【debug】===============\x20这是\x20查询主题信息列表\x20请求\x20url\x20===============');log(JSON['stringify'](_0x45e15a));}$['post'](_0x45e15a,async(_0x27b390,_0x38c6bf,_0x2408fd)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20查询主题信息列表\x20返回data==============');log(_0x2408fd);}if(safeGet(_0x2408fd)){let _0x1b6c5e=JSON['parse'](_0x2408fd);addNotifyStr('查询主题信息列表：\x20'+_0x1b6c5e['message']);if(_0x1b6c5e['code']==(0xdced9^0xdce11)){var _0x36507d=_0x1b6c5e['data']['activity'];for(let _0xd9411e=0x0;_0xd9411e<_0x36507d['length'];_0xd9411e++){var _0x540d39=_0x36507d[_0xd9411e]['body']['id'];addNotifyStr('【开始第'+(_0xd9411e+(0x5bc76^0x5bc77))+'个活动】',!![]);await activityview(_0x540d39);await $['wait'](0x1f4);await share(_0x540d39);await $['wait'](0xca026^0xca1d2);}}}}catch(_0x36798f){log(_0x36798f);log(_0x2408fd);}finally{_0x145c42();}});});}async function share(_0x43f026){return new Promise(_0x30655d=>{let _0x3de57c={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/activity/'+_0x43f026+'/share','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}};if(debug){log('\x0a【debug】===============\x20这是\x20活动分享\x20请求\x20url\x20===============');log(JSON['stringify'](_0x3de57c));}$['post'](_0x3de57c,async(_0x321aa3,_0x4e3b63,_0x4897f0)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20活动分享\x20返回data==============');log(_0x4897f0);}if(safeGet(_0x4897f0)){let _0x1b94f9=JSON['parse'](_0x4897f0);addNotifyStr('活动分享：\x20'+_0x1b94f9['message']);}}catch(_0x1cdc3b){log(_0x1cdc3b);log(_0x4897f0);}finally{_0x30655d();}});});}async function activityview(_0x12faca){return new Promise(_0x50044b=>{let _0x40c821={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/activity/'+_0x12faca,'headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}};if(debug){log('\x0a【debug】===============\x20这是\x20活动浏览\x20请求\x20url\x20===============');log(JSON['stringify'](_0x40c821));}$['get'](_0x40c821,async(_0x3eb44a,_0x1f8c31,_0x4c77ab)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20活动浏览\x20返回data==============');log(_0x4c77ab);}if(safeGet(_0x4c77ab)){let _0x20ab7=JSON['parse'](_0x4c77ab);addNotifyStr('活动浏览：\x20'+_0x20ab7['message']);}}catch(_0x16e2d5){log(_0x16e2d5);log(_0x4c77ab);}finally{_0x50044b();}});});}async function comment(_0x2982da){var _0x2b5545=randomInt(0xa84c8^0xa84c9,0x7111c^0x71113);var _0x47c2ed=['点赞','赞','赞一个','有用','强','学习','学下','看看','学到','嘿嘿','good','very\x20good','不错','真好','yyds'];var _0x2ff300=_0x47c2ed[_0x2b5545];return new Promise(_0x218cf7=>{let _0x46b525={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/comment','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()},'body':'{\x22articleId\x22:'+_0x2982da+',\x22memberName\x22:\x22'+memberName+'\x22,\x22memberId\x22:'+memberId+',\x22memberFace\x22:\x22\x22,\x22parentId\x22:null,\x22content\x22:\x22'+_0x2ff300+'\x22,\x22quote\x22:\x22长安深蓝SL03定购指南-第二弹\x22,\x22authorType\x22:\x221\x22,\x22quoteMemberId\x22:\x221\x22,\x22quoteMemberName\x22:\x22长安深蓝\x22,\x22quoteMemberFace\x22:\x22https://files.deepal.com.cn/member/head-portrait/6c599d214601820c01dedcffcb2a3be2.jpg\x22}'};if(debug){log('\x0a【debug】===============\x20这是\x20评论主题\x20请求\x20url\x20===============');log(JSON['stringify'](_0x46b525));}$['post'](_0x46b525,async(_0x198b3c,_0x54abff,_0x59a869)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20评论主题\x20返回data==============');log(_0x59a869);}if(safeGet(_0x59a869)){let _0xcde342=JSON['parse'](_0x59a869);if(_0xcde342['code']==0xc8){currCommentId=_0xcde342['data']['id'];}addNotifyStr('评论主题：\x20'+_0xcde342['message']);}}catch(_0x4bc0fa){log(_0x4bc0fa);log(_0x59a869);}finally{_0x218cf7();}});});}async function articleshare(_0x4c71a4){return new Promise(_0x38d7cf=>{let _0x562536={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/article/'+_0x4c71a4+'/share','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}};if(debug){log('\x0a【debug】===============\x20这是\x20分享主题\x20请求\x20url\x20===============');log(JSON['stringify'](_0x562536));}$['post'](_0x562536,async(_0x42d563,_0x1878aa,_0x1cd3f7)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20分享主题\x20返回data==============');log(_0x1cd3f7);}if(safeGet(_0x1cd3f7)){let _0x27da43=JSON['parse'](_0x1cd3f7);addNotifyStr('分享主题：\x20'+_0x27da43['message']);}}catch(_0x42e1fd){log(_0x42e1fd);log(_0x1cd3f7);}finally{_0x38d7cf();}});});}async function viewarticle1(_0x5dc84b){return new Promise(_0x18246c=>{let _0x5236be={'url':'https://app-api.deepal.com.cn/appapi/v1/member/ms/article/view','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()},'body':'{\x22articleId\x22:\x20'+_0x5dc84b+',\x20\x22type\x22:\x201}'};if(debug){log('\x0a【debug】===============\x20这是\x20浏览主题\x20请求\x20url\x20===============');log(JSON['stringify'](_0x5236be));}$['post'](_0x5236be,async(_0xa148bb,_0x4318cd,_0x36998a)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20浏览主题\x20返回data==============');log(_0x36998a);}if(safeGet(_0x36998a)){let _0x15e3a6=JSON['parse'](_0x36998a);addNotifyStr('浏览主题：\x20'+_0x15e3a6['message']);}}catch(_0x5319da){log(_0x5319da);log(_0x36998a);}finally{_0x18246c();}});});}async function viewarticle(_0x1aa1f3){return new Promise(_0x368cb9=>{let _0x5632af={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/article/'+_0x1aa1f3,'headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':'CAQC/1.1.3\x20(iPhone;\x20iOS\x2015.6.1;\x20Scale/3.00)','Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}};if(debug){log('\x0a【debug】===============\x20这是\x20查看大家动态\x20请求\x20url\x20===============');log(JSON['stringify'](_0x5632af));}$['get'](_0x5632af,async(_0x2dbce7,_0x4f154d,_0x1468da)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20查看大家动态\x20返回data==============');log(_0x1468da);}if(safeGet(_0x1468da)){let _0x5addf1=JSON['parse'](_0x1468da);addNotifyStr('查看评论：\x20'+_0x5addf1['message']);}}catch(_0x4650dc){log(_0x4650dc);log(_0x1468da);}finally{_0x368cb9();}});});}async function viewComment(_0x422d7b){return new Promise(_0x4012d9=>{let _0x3170fd={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/comment/'+_0x422d7b+'/0?index=1&size=10','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':'CAQC/1.1.3\x20(iPhone;\x20iOS\x2015.6.1;\x20Scale/3.00)','Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}};if(debug){log('\x0a【debug】===============\x20这是\x20查看评论\x20请求\x20url\x20===============');log(JSON['stringify'](_0x3170fd));}$['get'](_0x3170fd,async(_0x2bbcb4,_0x198d82,_0x16ff3d)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20查看评论\x20返回data==============');log(_0x16ff3d);}if(safeGet(_0x16ff3d)){let _0x309d31=JSON['parse'](_0x16ff3d);addNotifyStr('查看评论：\x20'+_0x309d31['message']);}}catch(_0x4bfe8f){log(_0x4bfe8f);log(_0x16ff3d);}finally{_0x4012d9();}});});}async function like(_0x19421a){return new Promise(_0x14ca03=>{let _0xb66d11={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/article/'+_0x19421a+'/like','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}};if(debug){log('\x0a【debug】===============\x20这是\x20收藏主题\x20请求\x20url\x20===============');log(JSON['stringify'](_0xb66d11));}$['post'](_0xb66d11,async(_0xbb335a,_0x1f5e41,_0x4d5afd)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20收藏主题\x20返回data==============');log(_0x4d5afd);}if(safeGet(_0x4d5afd)){let _0x58bb68=JSON['parse'](_0x4d5afd);addNotifyStr('收藏主题：\x20'+_0x58bb68['message']);}}catch(_0x14cf4c){log(_0x14cf4c);log(_0x4d5afd);}finally{_0x14ca03();}});});}async function deleteLike(_0x4f22af){return new Promise(_0xa0517b=>{let _0x265c93={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/article/'+_0x4f22af+'/like/delete','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}};if(debug){log('\x0a【debug】===============\x20这是\x20取消收藏主题\x20请求\x20url\x20===============');log(JSON['stringify'](_0x265c93));}$['post'](_0x265c93,async(_0x852991,_0x13d161,_0x363601)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20取消收藏主题\x20返回data==============');log(_0x363601);}if(safeGet(_0x363601)){let _0x5a3450=JSON['parse'](_0x363601);addNotifyStr('取消收藏主题：\x20'+_0x5a3450['message']);}}catch(_0x3fb067){log(_0x3fb067);log(_0x363601);}finally{_0xa0517b();}});});}async function praises(_0x2fb1bb){return new Promise(_0x4ff8ef=>{let _0x3adf03={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/article/'+_0x2fb1bb+'/praises','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}};if(debug){log('\x0a【debug】===============\x20这是\x20点赞主题\x20请求\x20url\x20===============');log(JSON['stringify'](_0x3adf03));}$['post'](_0x3adf03,async(_0x3e81c1,_0x1ee6db,_0x33250d)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20点赞主题\x20返回data==============');log(_0x33250d);}if(safeGet(_0x33250d)){let _0x35fbf7=JSON['parse'](_0x33250d);addNotifyStr('点赞主题：\x20'+_0x35fbf7['message']);}}catch(_0xb12591){log(_0xb12591);log(_0x33250d);}finally{_0x4ff8ef();}});});}async function deletePraises(_0x444de9){return new Promise(_0x1bd262=>{let _0x2ace19={'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/article/'+_0x444de9+'/praises/delete','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','User-Agent':''+userAgent,'Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':''+caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}};if(debug){log('\x0a【debug】===============\x20这是\x20取消点赞主题\x20请求\x20url\x20===============');log(JSON['stringify'](_0x2ace19));}$['post'](_0x2ace19,async(_0x3200b5,_0x339eb5,_0x22ddf0)=>{try{if(debug){log('\x0a\x0a【debug】===============这是\x20取消点赞主题\x20返回data==============');log(_0x22ddf0);}if(safeGet(_0x22ddf0)){let _0xc4964e=JSON['parse'](_0x22ddf0);addNotifyStr('取消点赞主题：\x20'+_0xc4964e['message']);}}catch(_0x12cd95){log(_0x12cd95);log(_0x22ddf0);}finally{_0x1bd262();}});});}async function deleteComment(){return new Promise(_0x127ae5=>{try{request({'url':'https://app-api.deepal.com.cn/appapi/v1/m_app/comment/'+currCommentId,'method':'DELETE','headers':{'Host':'app-api.deepal.com.cn','Connection':'keep-alive','Accept':'application/json,\x20text/javascript,\x20*/*','User-Agent':'CAQC/1.1.3\x20(iPhone;\x20iOS\x2015.6.1;\x20Scale/3.00)','Accept-Language':'zh-CN,zh-Hans;q=0.9','Accept-Encoding':'gzip,compress,br,deflate','Content-Type':'application/json;charset=UTF-8','accept':'application/json','authorization':caslCk,'charset':'utf-8','apptype':'mp','appid':'wx0c0217402bdf4059','security-sign':'3c3049386af626e90d7479e5f6ffdd15|435a97ac-585a-4c56-b976-bfd1866a278d|'+timestampMs()}},function(_0x1ec01f,_0x532564,_0x55c0f8){if(safeGet(_0x55c0f8)){let _0x4e54ea=JSON['parse'](_0x55c0f8);addNotifyStr('删除评论：\x20'+_0x4e54ea['message']);}});}catch(_0x1435e2){log(_0x1435e2);}finally{_0x127ae5();}});}function randomInt(_0x1116d3,_0x525f88){return Math['round'](Math['random']()*(_0x525f88-_0x1116d3)+_0x1116d3);}function timestampMs(){return new Date()['getTime']();}function timestampS(){return Date['parse'](new Date())/0x3e8;}async function Envs(){if(caslCk){if(caslCk['indexOf']('@')!=-(0x36c62^0x36c63)){caslCk['split']('@')['forEach'](_0x3a6eef=>{caslCkArr['push'](_0x3a6eef);});}else if(caslCk['indexOf']('\x0a')!=-0x1){caslCk['split']('\x0a')['forEach'](_0x247af4=>{caslCkArr['push'](_0x247af4);});}else{caslCkArr['push'](caslCk);}}else{log('\x0a\x20【'+$['name']+'】：未填写变量\x20caslCk');return;}return!![];}async function GetRewrite(){if($request['url']['indexOf']('appapi/v1/member/ms/wallet')>-(0x78e14^0x78e15)){const _0x10d3d6=$request['headers']['Authorization'];if(caslCk){if(caslCk['indexOf'](_0x10d3d6)==-0x1){caslCk=caslCk+'@'+_0x10d3d6;$['setdata'](caslCk,'caslCk');let _0x3b5f34=caslCk['split']('@');$['msg']('【'+$['name']+'】'+('\x20获取第'+_0x3b5f34['length']+'个\x20ck\x20成功:\x20'+_0x10d3d6+'\x20,不用请自行关闭重写!'));}}else{$['setdata'](_0x10d3d6,'caslCk');$['msg']('【'+$['name']+'】'+('\x20获取第1个\x20ck\x20成功:\x20'+_0x10d3d6+'\x20,不用请自行关闭重写!'));}}}function addNotifyStr(_0x574fb8,_0xa4ef75=!![]){if(_0xa4ef75){log(_0x574fb8+'\x0a');}msg+=_0x574fb8+'\x0a';}async function SendMsg(_0x38ef31){if(!_0x38ef31)return;if(Notify>0x0){if($['isNode']()){var _0x2c7c02=require('./sendNotify');await _0x2c7c02['sendNotify']($['name'],_0x38ef31);}else{$['msg'](_0x38ef31);}}else{log(_0x38ef31);}}function getArticleIdIndex(_0x407ce9,_0x1ccfa5){var _0x13f2b7=randomNum(0x0,_0x1ccfa5);if(_0x407ce9['indexOf'](_0x13f2b7)>=0x0){_0x13f2b7=randomNum(0x0,_0x1ccfa5);}if(_0x407ce9['indexOf'](_0x13f2b7)>=0x0){_0x13f2b7=randomNum(0x0,_0x1ccfa5);}if(_0x407ce9['indexOf'](_0x13f2b7)>=(0xb6fe2^0xb6fe2)){_0x13f2b7=randomNum(0x0,_0x1ccfa5);}if(_0x407ce9['indexOf'](_0x13f2b7)>=0x0){_0x13f2b7=randomNum(0x0,_0x1ccfa5);}if(_0x407ce9['indexOf'](_0x13f2b7)>=(0x44da6^0x44da6)){_0x13f2b7=randomNum(0x8e6b9^0x8e6b9,_0x1ccfa5);}return _0x13f2b7;}function randomNum(_0x1b8cc0,_0x46d423){const _0x535c05=_0x46d423-_0x1b8cc0;const _0xae419b=Math['random']();return _0x1b8cc0+Math['floor'](_0xae419b*_0x535c05);}function safeGet(_0x4e38e7){try{if(typeof JSON['parse'](_0x4e38e7)=='object'){return!![];}}catch(_0x3e5eab){console['log'](_0x3e5eab);console['log']('服务器访问数据为空，请检查自身设备网络情况');return![];}}function delay(){let _0x243265=parseInt(Math['random']()*0x186a0);if(_0x243265>0x7530){return delay();}else{console['log']('随机延时：',_0x243265+'ms,\x20避免大家运行时间一样');return _0x243265;}}function getVersion(_0x435fdf=0x3*0x3e8){return new Promise(_0x378ddb=>{let _0x2fe637={'url':'https://ghproxy.com/https://github.com/Shawn220528/scripts/blob/main/version.txt'};$['get'](_0x2fe637,async(_0x52128e,_0x352ff8,_0x126cfc)=>{try{if(_0x126cfc['indexOf']('24d76e1d10e77e3c9c67955f18e8cde735d3e94a')!=-(0x486e3^0x486e2)){scriptVersionCheck=!![];log('版本验证成功');}}catch(_0x19affa){$['logErr'](_0x19affa,_0x352ff8);}finally{_0x378ddb();}},_0x435fdf);});}function Env(_0x2bc253,_0x590960){'undefined'!=typeof process&&JSON['stringify'](process['env'])['indexOf']('GITHUB')>-0x1&&process['exit'](0x5fac3^0x5fac3);class _0x57f81e{constructor(_0x1687f0){this['env']=_0x1687f0;}['send'](_0x3f5cdf,_0x2a5a0b='GET'){_0x3f5cdf='string'==typeof _0x3f5cdf?{'url':_0x3f5cdf}:_0x3f5cdf;let _0x18537b=this['get'];return'POST'===_0x2a5a0b&&(_0x18537b=this['post']),new Promise((_0x165229,_0x4f382c)=>{_0x18537b['call'](this,_0x3f5cdf,(_0x2ee667,_0x1bc226,_0xeb02ff)=>{_0x2ee667?_0x4f382c(_0x2ee667):_0x165229(_0x1bc226);});});}['get'](_0x18348a){return this['send']['call'](this['env'],_0x18348a);}['post'](_0x368c3f){return this['send']['call'](this['env'],_0x368c3f,'POST');}}return new class{constructor(_0xa61753,_0x3f57f4){this['name']=_0xa61753,this['http']=new _0x57f81e(this),this['data']=null,this['dataFile']='box.dat',this['logs']=[],this['isMute']=!0x1,this['isNeedRewrite']=!(0xc80f3^0xc80f2),this['logSeparator']='\x0a',this['startTime']=new Date()['getTime'](),Object['assign'](this,_0x3f57f4),this['log']('','🔔'+this['name']+',\x20开始!');}['isNode'](){return'undefined'!=typeof module&&!!module['exports'];}['isQuanX'](){return'undefined'!=typeof $task;}['isSurge'](){return'undefined'!=typeof $httpClient&&'undefined'==typeof $loon;}['isLoon'](){return'undefined'!=typeof $loon;}['toObj'](_0x2e4322,_0x1eb972=null){try{return JSON['parse'](_0x2e4322);}catch{return _0x1eb972;}}['toStr'](_0x3595ed,_0x1a6983=null){try{return JSON['stringify'](_0x3595ed);}catch{return _0x1a6983;}}['getjson'](_0x43e252,_0x347593){let _0xfe3aea=_0x347593;const _0x34b846=this['getdata'](_0x43e252);if(_0x34b846)try{_0xfe3aea=JSON['parse'](this['getdata'](_0x43e252));}catch{}return _0xfe3aea;}['setjson'](_0x1de71c,_0x40b6dd){try{return this['setdata'](JSON['stringify'](_0x1de71c),_0x40b6dd);}catch{return!0x1;}}['getScript'](_0x72b2b5){return new Promise(_0x18a92b=>{this['get']({'url':_0x72b2b5},(_0x16df6d,_0x43b4f9,_0x2a3270)=>_0x18a92b(_0x2a3270));});}['runScript'](_0x4556b7,_0x239ef3){return new Promise(_0x15a149=>{let _0x13c5d1=this['getdata']('@chavy_boxjs_userCfgs.httpapi');_0x13c5d1=_0x13c5d1?_0x13c5d1['replace'](/\n/g,'')['trim']():_0x13c5d1;let _0x4945cb=this['getdata']('@chavy_boxjs_userCfgs.httpapi_timeout');_0x4945cb=_0x4945cb?(0x5ba19^0x5ba18)*_0x4945cb:0x973e1^0x973f5,_0x4945cb=_0x239ef3&&_0x239ef3['timeout']?_0x239ef3['timeout']:_0x4945cb;const [_0x169ff7,_0x121831]=_0x13c5d1['split']('@'),_0x31f4f1={'url':'http://'+_0x121831+'/v1/scripting/evaluate','body':{'script_text':_0x4556b7,'mock_type':'cron','timeout':_0x4945cb},'headers':{'X-Key':_0x169ff7,'Accept':'*/*'}};this['post'](_0x31f4f1,(_0x3c4118,_0x5b8396,_0x2cd782)=>_0x15a149(_0x2cd782));})['catch'](_0x400f53=>this['logErr'](_0x400f53));}['loaddata'](){if(!this['isNode']())return{};{this['fs']=this['fs']?this['fs']:require('fs'),this['path']=this['path']?this['path']:require('path');const _0x5ac21a=this['path']['resolve'](this['dataFile']),_0x25950b=this['path']['resolve'](process['cwd'](),this['dataFile']),_0x5d53e8=this['fs']['existsSync'](_0x5ac21a),_0x432617=!_0x5d53e8&&this['fs']['existsSync'](_0x25950b);if(!_0x5d53e8&&!_0x432617)return{};{const _0x375847=_0x5d53e8?_0x5ac21a:_0x25950b;try{return JSON['parse'](this['fs']['readFileSync'](_0x375847));}catch(_0x35fb3b){return{};}}}}['writedata'](){if(this['isNode']()){this['fs']=this['fs']?this['fs']:require('fs'),this['path']=this['path']?this['path']:require('path');const _0x1b0b17=this['path']['resolve'](this['dataFile']),_0x18d740=this['path']['resolve'](process['cwd'](),this['dataFile']),_0x487cee=this['fs']['existsSync'](_0x1b0b17),_0x9bb1b=!_0x487cee&&this['fs']['existsSync'](_0x18d740),_0x95e648=JSON['stringify'](this['data']);_0x487cee?this['fs']['writeFileSync'](_0x1b0b17,_0x95e648):_0x9bb1b?this['fs']['writeFileSync'](_0x18d740,_0x95e648):this['fs']['writeFileSync'](_0x1b0b17,_0x95e648);}}['lodash_get'](_0x28f4d5,_0x2d6107,_0x4a3452){const _0x331ffd=_0x2d6107['replace'](/\[(\d+)\]/g,'.$1')['split']('.');let _0x353649=_0x28f4d5;for(const _0x5c0317 of _0x331ffd)if(_0x353649=Object(_0x353649)[_0x5c0317],void 0x0===_0x353649)return _0x4a3452;return _0x353649;}['lodash_set'](_0x25e28d,_0x1b997c,_0x6106c4){return Object(_0x25e28d)!==_0x25e28d?_0x25e28d:(Array['isArray'](_0x1b997c)||(_0x1b997c=_0x1b997c['toString']()['match'](/[^.[\]]+/g)||[]),_0x1b997c['slice'](0x0,-(0xb0d4c^0xb0d4d))['reduce']((_0x79e3a2,_0x44c5e8,_0x34336f)=>Object(_0x79e3a2[_0x44c5e8])===_0x79e3a2[_0x44c5e8]?_0x79e3a2[_0x44c5e8]:_0x79e3a2[_0x44c5e8]=Math['abs'](_0x1b997c[_0x34336f+0x1])>>0x0==+_0x1b997c[_0x34336f+0x1]?[]:{},_0x25e28d)[_0x1b997c[_0x1b997c['length']-0x1]]=_0x6106c4,_0x25e28d);}['getdata'](_0x3e8a2e){let _0x4fa16e=this['getval'](_0x3e8a2e);if(/^@/['test'](_0x3e8a2e)){const [,_0x54f4c5,_0xa93674]=/^@(.*?)\.(.*?)$/['exec'](_0x3e8a2e),_0x2405fc=_0x54f4c5?this['getval'](_0x54f4c5):'';if(_0x2405fc)try{const _0x24608f=JSON['parse'](_0x2405fc);_0x4fa16e=_0x24608f?this['lodash_get'](_0x24608f,_0xa93674,''):_0x4fa16e;}catch(_0x113729){_0x4fa16e='';}}return _0x4fa16e;}['setdata'](_0x4f5163,_0x3a11bb){let _0x1a4076=!0x1;if(/^@/['test'](_0x3a11bb)){const [,_0x555e1a,_0x3851cf]=/^@(.*?)\.(.*?)$/['exec'](_0x3a11bb),_0x461fa0=this['getval'](_0x555e1a),_0x184bad=_0x555e1a?'null'===_0x461fa0?null:_0x461fa0||'{}':'{}';try{const _0x36435d=JSON['parse'](_0x184bad);this['lodash_set'](_0x36435d,_0x3851cf,_0x4f5163),_0x1a4076=this['setval'](JSON['stringify'](_0x36435d),_0x555e1a);}catch(_0x1ef5a1){const _0x33b9ea={};this['lodash_set'](_0x33b9ea,_0x3851cf,_0x4f5163),_0x1a4076=this['setval'](JSON['stringify'](_0x33b9ea),_0x555e1a);}}else _0x1a4076=this['setval'](_0x4f5163,_0x3a11bb);return _0x1a4076;}['getval'](_0x4937c8){return this['isSurge']()||this['isLoon']()?$persistentStore['read'](_0x4937c8):this['isQuanX']()?$prefs['valueForKey'](_0x4937c8):this['isNode']()?(this['data']=this['loaddata'](),this['data'][_0x4937c8]):this['data']&&this['data'][_0x4937c8]||null;}['setval'](_0xe73347,_0x511d76){return this['isSurge']()||this['isLoon']()?$persistentStore['write'](_0xe73347,_0x511d76):this['isQuanX']()?$prefs['setValueForKey'](_0xe73347,_0x511d76):this['isNode']()?(this['data']=this['loaddata'](),this['data'][_0x511d76]=_0xe73347,this['writedata'](),!0x0):this['data']&&this['data'][_0x511d76]||null;}['initGotEnv'](_0x31b2bc){this['got']=this['got']?this['got']:require('got'),this['cktough']=this['cktough']?this['cktough']:require('tough-cookie'),this['ckjar']=this['ckjar']?this['ckjar']:new this['cktough']['CookieJar'](),_0x31b2bc&&(_0x31b2bc['headers']=_0x31b2bc['headers']?_0x31b2bc['headers']:{},void 0x0===_0x31b2bc['headers']['Cookie']&&void 0x0===_0x31b2bc['cookieJar']&&(_0x31b2bc['cookieJar']=this['ckjar']));}['get'](_0x2a979b,_0x3affa4=()=>{}){_0x2a979b['headers']&&(delete _0x2a979b['headers']['Content-Type'],delete _0x2a979b['headers']['Content-Length']),this['isSurge']()||this['isLoon']()?(this['isSurge']()&&this['isNeedRewrite']&&(_0x2a979b['headers']=_0x2a979b['headers']||{},Object['assign'](_0x2a979b['headers'],{'X-Surge-Skip-Scripting':!0x1})),$httpClient['get'](_0x2a979b,(_0x3b417a,_0x1e93f4,_0x6f704)=>{!_0x3b417a&&_0x1e93f4&&(_0x1e93f4['body']=_0x6f704,_0x1e93f4['statusCode']=_0x1e93f4['status']),_0x3affa4(_0x3b417a,_0x1e93f4,_0x6f704);})):this['isQuanX']()?(this['isNeedRewrite']&&(_0x2a979b['opts']=_0x2a979b['opts']||{},Object['assign'](_0x2a979b['opts'],{'hints':!(0xe8fd0^0xe8fd1)})),$task['fetch'](_0x2a979b)['then'](_0x27e6ec=>{const {statusCode:_0x409c8f,statusCode:_0x2a4620,headers:_0x2f9ff1,body:_0x4af2b9}=_0x27e6ec;_0x3affa4(null,{'status':_0x409c8f,'statusCode':_0x2a4620,'headers':_0x2f9ff1,'body':_0x4af2b9},_0x4af2b9);},_0x3e06d1=>_0x3affa4(_0x3e06d1))):this['isNode']()&&(this['initGotEnv'](_0x2a979b),this['got'](_0x2a979b)['on']('redirect',(_0x3853ce,_0x5b81e3)=>{try{if(_0x3853ce['headers']['set-cookie']){const _0x4afe7b=_0x3853ce['headers']['set-cookie']['map'](this['cktough']['Cookie']['parse'])['toString']();_0x4afe7b&&this['ckjar']['setCookieSync'](_0x4afe7b,null),_0x5b81e3['cookieJar']=this['ckjar'];}}catch(_0x1fdb32){this['logErr'](_0x1fdb32);}})['then'](_0x2321ae=>{const {statusCode:_0x227fe7,statusCode:_0x2aa670,headers:_0x246c7a,body:_0x4133aa}=_0x2321ae;_0x3affa4(null,{'status':_0x227fe7,'statusCode':_0x2aa670,'headers':_0x246c7a,'body':_0x4133aa},_0x4133aa);},_0x3763d1=>{const {message:_0x205d1c,response:_0x5c291f}=_0x3763d1;_0x3affa4(_0x205d1c,_0x5c291f,_0x5c291f&&_0x5c291f['body']);}));}['post'](_0x4dbf18,_0x28355c=()=>{}){if(_0x4dbf18['body']&&_0x4dbf18['headers']&&!_0x4dbf18['headers']['Content-Type']&&(_0x4dbf18['headers']['Content-Type']='application/x-www-form-urlencoded'),_0x4dbf18['headers']&&delete _0x4dbf18['headers']['Content-Length'],this['isSurge']()||this['isLoon']())this['isSurge']()&&this['isNeedRewrite']&&(_0x4dbf18['headers']=_0x4dbf18['headers']||{},Object['assign'](_0x4dbf18['headers'],{'X-Surge-Skip-Scripting':!0x1})),$httpClient['post'](_0x4dbf18,(_0x44f776,_0x44ef5f,_0x23a374)=>{!_0x44f776&&_0x44ef5f&&(_0x44ef5f['body']=_0x23a374,_0x44ef5f['statusCode']=_0x44ef5f['status']),_0x28355c(_0x44f776,_0x44ef5f,_0x23a374);});else if(this['isQuanX']())_0x4dbf18['method']='POST',this['isNeedRewrite']&&(_0x4dbf18['opts']=_0x4dbf18['opts']||{},Object['assign'](_0x4dbf18['opts'],{'hints':!(0xd47e5^0xd47e4)})),$task['fetch'](_0x4dbf18)['then'](_0x386e20=>{const {statusCode:_0x5c09a5,statusCode:_0x342dc1,headers:_0x47157f,body:_0x5e35ca}=_0x386e20;_0x28355c(null,{'status':_0x5c09a5,'statusCode':_0x342dc1,'headers':_0x47157f,'body':_0x5e35ca},_0x5e35ca);},_0xb91f1e=>_0x28355c(_0xb91f1e));else if(this['isNode']()){this['initGotEnv'](_0x4dbf18);const {url:_0x27e24a,..._0x5732cd}=_0x4dbf18;this['got']['post'](_0x27e24a,_0x5732cd)['then'](_0x45485d=>{const {statusCode:_0x5f5985,statusCode:_0x271b57,headers:_0x2893b2,body:_0x49ec9c}=_0x45485d;_0x28355c(null,{'status':_0x5f5985,'statusCode':_0x271b57,'headers':_0x2893b2,'body':_0x49ec9c},_0x49ec9c);},_0x3e2325=>{const {message:_0x5ad23e,response:_0x4dcbc1}=_0x3e2325;_0x28355c(_0x5ad23e,_0x4dcbc1,_0x4dcbc1&&_0x4dcbc1['body']);});}}['time'](_0x5b4567,_0x545960=null){const _0x4f618f=_0x545960?new Date(_0x545960):new Date();let _0x2830cf={'M+':_0x4f618f['getMonth']()+0x1,'d+':_0x4f618f['getDate'](),'H+':_0x4f618f['getHours'](),'m+':_0x4f618f['getMinutes'](),'s+':_0x4f618f['getSeconds'](),'q+':Math['floor']((_0x4f618f['getMonth']()+0x3)/0x3),'S':_0x4f618f['getMilliseconds']()};/(y+)/['test'](_0x5b4567)&&(_0x5b4567=_0x5b4567['replace'](RegExp['$1'],(_0x4f618f['getFullYear']()+'')['substr']((0x361f5^0x361f1)-RegExp['$1']['length'])));for(let _0x495ea4 in _0x2830cf)new RegExp('('+_0x495ea4+')')['test'](_0x5b4567)&&(_0x5b4567=_0x5b4567['replace'](RegExp['$1'],0x1==RegExp['$1']['length']?_0x2830cf[_0x495ea4]:('00'+_0x2830cf[_0x495ea4])['substr']((''+_0x2830cf[_0x495ea4])['length'])));return _0x5b4567;}['msg'](_0x335e92=_0x2bc253,_0x98290c='',_0x489d73='',_0x4279f8){const _0x2c46c5=_0x798ad2=>{if(!_0x798ad2)return _0x798ad2;if('string'==typeof _0x798ad2)return this['isLoon']()?_0x798ad2:this['isQuanX']()?{'open-url':_0x798ad2}:this['isSurge']()?{'url':_0x798ad2}:void 0x0;if('object'==typeof _0x798ad2){if(this['isLoon']()){let _0x2c2033=_0x798ad2['openUrl']||_0x798ad2['url']||_0x798ad2['open-url'],_0x1ff151=_0x798ad2['mediaUrl']||_0x798ad2['media-url'];return{'openUrl':_0x2c2033,'mediaUrl':_0x1ff151};}if(this['isQuanX']()){let _0x229697=_0x798ad2['open-url']||_0x798ad2['url']||_0x798ad2['openUrl'],_0x4e139e=_0x798ad2['media-url']||_0x798ad2['mediaUrl'];return{'open-url':_0x229697,'media-url':_0x4e139e};}if(this['isSurge']()){let _0x1d9a34=_0x798ad2['url']||_0x798ad2['openUrl']||_0x798ad2['open-url'];return{'url':_0x1d9a34};}}};if(this['isMute']||(this['isSurge']()||this['isLoon']()?$notification['post'](_0x335e92,_0x98290c,_0x489d73,_0x2c46c5(_0x4279f8)):this['isQuanX']()&&$notify(_0x335e92,_0x98290c,_0x489d73,_0x2c46c5(_0x4279f8))),!this['isMuteLog']){let _0x4f8925=['','==============📣系统通知📣=============='];_0x4f8925['push'](_0x335e92),_0x98290c&&_0x4f8925['push'](_0x98290c),_0x489d73&&_0x4f8925['push'](_0x489d73),console['log'](_0x4f8925['join']('\x0a')),this['logs']=this['logs']['concat'](_0x4f8925);}}['log'](..._0x14972f){_0x14972f['length']>0x0&&(this['logs']=[...this['logs'],..._0x14972f]),console['log'](_0x14972f['join'](this['logSeparator']));}['logErr'](_0x1d6c0c,_0x1b0c9f){const _0x1292d5=!this['isSurge']()&&!this['isQuanX']()&&!this['isLoon']();_0x1292d5?this['log']('','❗️'+this['name']+',\x20错误!',_0x1d6c0c['stack']):this['log']('','❗️'+this['name']+',\x20错误!',_0x1d6c0c);}['wait'](_0x3e9087){return new Promise(_0x5eb32b=>setTimeout(_0x5eb32b,_0x3e9087));}['done'](_0x384631={}){const _0x414ef5=new Date()['getTime'](),_0x58de22=(_0x414ef5-this['startTime'])/(0x9d737^0x9d4df);this['log']('','🔔'+this['name']+',\x20结束!\x20🕛\x20'+_0x58de22+'\x20秒'),this['log'](),(this['isSurge']()||this['isQuanX']()||this['isLoon']())&&$done(_0x384631);}}(_0x2bc253,_0x590960);}